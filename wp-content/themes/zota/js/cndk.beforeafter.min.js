/*!
 * Cndk.BeforeAfter.js v 0.0.2 (https://github.com/ilkerccom/cndkbeforeafter)
 * Ilker Cindik
 * Licensed under the MIT license
 */
jQuery.fn.cndkbeforeafter=function(e){var t=jQuery.extend({mode:"hover",showText:!0,beforeText:"Before",beforeTextPosition:"top-left",afterText:"After",afterTextPosition:"top-right",seperatorWidth:"4px",seperatorOpacity:"0.8",theme:"light",autoSliding:!1,autoSlidingStopOnHover:!0,hoverEffect:!0,enterAnimation:!1},e),r=this;if(0!==r.length){var f=new Image;jQuery(f).on("load",(function(){!function(e){e.each((function(){var r=jQuery(this).find(">div>div").length;r<=1&&console.log("(cndk.beforeafter.js) Error ->Â No before-after images found."),e.addClass("cndkbeforeafter-theme-"+t.theme);var f=jQuery(this);if(f.addClass("cndkbeforeafter cndkbeforeafter-root"),f.append("<div class='cndkbeforeafter-seperator' style='width:"+t.seperatorWidth+";opacity:"+t.seperatorOpacity+"'></div>"),f.append("<div class='cndkbeforeafter-container'></div>"),1==t.hoverEffect&&f.addClass("cndkbeforeafter-hover"),1==t.showText){var a=null==jQuery(this).find(">div").eq(0).find('div[data-type="before"]').attr("data-title")?t.beforeText:jQuery(this).find(">div").eq(0).find('div[data-type="before"]').attr("data-title"),i=null==jQuery(this).find(">div").eq(0).find('div[data-type="after"]').attr("data-title")?t.afterText:jQuery(this).find(">div").eq(0).find('div[data-type="after"]').attr("data-title");f.append("<div class='cndkbeforeafter-item-before-text cndkbeforeafter-"+t.beforeTextPosition+"'>"+a+"</div>"),f.append("<div class='cndkbeforeafter-item-after-text cndkbeforeafter-"+t.afterTextPosition+"'>"+i+"</div>")}for(var d=0;d<r;d++){var n=jQuery(this).find(">div").eq(d).find('div[data-type="before"]'),o=jQuery(this).find(">div").eq(d).find('div[data-type="before"] img');o.addClass("cndkbeforeafter-item-before"),n.addClass("cndkbeforeafter-item-before-c"),n.css("overflow","hidden"),n.css("z-index","2");var s=jQuery(this).find(">div").eq(d).find('div[data-type="after"]'),c=jQuery(this).find(">div").eq(d).find('div[data-type="after"] img');c.addClass("cndkbeforeafter-item-after"),s.addClass("cndkbeforeafter-item-after-c"),s.css("z-index","1");var b=o.width(),h=o.height(),u=jQuery(this).parent().width();u<b&&(h/=b/u,b=u,o.css("width",b+"px"),c.css("width",b+"px")),jQuery(this).find(">div").eq(0).addClass("cndkbeforeafter-item"),jQuery(this).find(">div").eq(0).css("height",h+"px"),b<200&&(jQuery(this).find(".cndkbeforeafter-item-after-text").addClass("cndkbeforeafter-extra-small-text cndkbeforeafter-extra-small-text-after"),jQuery(this).find(".cndkbeforeafter-item-before-text").addClass("cndkbeforeafter-extra-small-text cndkbeforeafter-extra-small-text-before")),n.css("width","50%"),s.css("width","50%"),jQuery(".cndkbeforeafter-seperator").css("left","50%"),f.css("width",b+"px"),f.css("height",h+"px")}if("hover"==t.mode)jQuery(f).find(".cndkbeforeafter-seperator, .cndkbeforeafter-item > div").addClass("cndkbeforeafter-hover-transition"),jQuery(f).mousemove((function(e){var t=jQuery(this).offset(),r=100*parseInt(e.pageX-t.left)/parseInt(f.width());jQuery(this).find(".cndkbeforeafter-item-before-c").css("width",r+"%"),jQuery(this).find(".cndkbeforeafter-item-after-c").css("width",100-r+"%"),jQuery(this).find(".cndkbeforeafter-seperator").css("left",r+"%")})).mouseleave((function(){jQuery(this).find(".cndkbeforeafter-item-after-c").css("width","50%"),jQuery(this).find(".cndkbeforeafter-item-before-c").css("width","50%"),jQuery(this).find(".cndkbeforeafter-seperator").css("left","50%")}));else if("drag"==t.mode){jQuery(f).find(".cndkbeforeafter-seperator, .cndkbeforeafter-item > div").addClass("cndkbeforeafter-drag-transition"),jQuery(f).click((function(e){var t=jQuery(this).offset(),r=100*parseInt(e.pageX-t.left)/parseInt(f.width());jQuery(this).find(".cndkbeforeafter-item-before-c").css("width",r+"%"),jQuery(this).find(".cndkbeforeafter-item-after-c").css("width",100-r+"%"),jQuery(this).find(".cndkbeforeafter-seperator").css("left",r+"%")}));var k=!1,m=f;m.find(".cndkbeforeafter-seperator").on("mousedown",(function(e){k=!0,m.find(".cndkbeforeafter-seperator, .cndkbeforeafter-item > div").removeClass("cndkbeforeafter-drag-transition"),m.mousemove((function(e){if(k){var t=m.offset(),r=100*parseInt(e.pageX-t.left)/parseInt(f.width());m.find(".cndkbeforeafter-item-before-c").css("width",r+"%"),m.find(".cndkbeforeafter-item-after-c").css("width",100-r+"%"),m.find(".cndkbeforeafter-seperator").css("left",r+"%")}}))})),m.find(".cndkbeforeafter-seperator").on("mouseup",(function(e){k=!1,m.find(".cndkbeforeafter-seperator, .cndkbeforeafter-item > div").addClass("cndkbeforeafter-drag-transition")})),m.find(".cndkbeforeafter-seperator").on("touchstart",(function(e){k=!0,m.find(".cndkbeforeafter-seperator, .cndkbeforeafter-item > div").removeClass("cndkbeforeafter-drag-transition"),m.on("touchmove",(function(e){var t=m.offset(),r=100*parseInt(e.originalEvent.touches[0].pageX-t.left)/parseInt(f.width());m.find(".cndkbeforeafter-item-before-c").css("width",r+"%"),m.find(".cndkbeforeafter-item-after-c").css("width",100-r+"%"),m.find(".cndkbeforeafter-seperator").css("left",r+"%")}))})),m.find(".cndkbeforeafter-seperator").append("<div><span></span></div>")}t.enterAnimation&&jQuery(this).addClass("cndkbeforeafter-animation"),t.autoSliding&&(jQuery(this).attr("auto-sliding","true"),jQuery(this).find(".cndkbeforeafter-item-before-c").addClass("cndkbeforeafter-animation-item-1"),jQuery(this).find(".cndkbeforeafter-item-after-c").addClass("cndkbeforeafter-animation-item-2"),jQuery(this).find(".cndkbeforeafter-seperator").addClass("cndkbeforeafter-animation-seperator"),t.autoSlidingStopOnHover&&(jQuery(this).on("mouseenter",(function(){jQuery(this).find(".cndkbeforeafter-item-before-c").removeClass("cndkbeforeafter-animation-item-1"),jQuery(this).find(".cndkbeforeafter-item-after-c").removeClass("cndkbeforeafter-animation-item-2"),jQuery(this).find(".cndkbeforeafter-seperator").removeClass("cndkbeforeafter-animation-seperator")})),jQuery(this).on("mouseleave",(function(){jQuery(this).find(".cndkbeforeafter-item-before-c").addClass("cndkbeforeafter-animation-item-1"),jQuery(this).find(".cndkbeforeafter-item-after-c").addClass("cndkbeforeafter-animation-item-2"),jQuery(this).find(".cndkbeforeafter-seperator").addClass("cndkbeforeafter-animation-seperator")})))),jQuery(window).resize((function(){}))}))}(r)})),f.src=jQuery(this).find(">div").eq(0).find('div[data-type="before"] img').attr("src")}};