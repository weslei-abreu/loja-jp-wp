!function(t){t.fn.tbayCountDown=function(e){return this.each((function(){new t.tbayCountDown(this,e)}))},t.tbayCountDown=function(e,n){if(this.options=t.extend({autoStart:!0,LeadingZero:!0,DisplayFormat:"<div>%%D%% Days</div><div>%%H%% Hours</div><div>%%M%% Minutes</div><div>%%S%% Seconds</div>",FinishMessage:"Expired",CountActive:!0,TargetDate:null},n||{}),null!=this.options.TargetDate&&""!=this.options.TargetDate){this.timer=null,this.element=e,this.CountStepper=-1,this.CountStepper=Math.ceil(this.CountStepper),this.SetTimeOutPeriod=1e3*(Math.abs(this.CountStepper)-1)+990;var i=new Date(this.options.TargetDate),a=new Date,o=this.CountStepper>0?new Date(a-i):new Date(i-a),u=Math.floor(o.valueOf()/1e3);this.CountBack(u,this)}},t.tbayCountDown.fn=t.tbayCountDown.prototype,t.tbayCountDown.fn.extend=t.tbayCountDown.extend=t.extend,t.tbayCountDown.fn.extend({calculateDate:function(t,e,n){var i=(Math.floor(t/e)%n).toString();return this.options.LeadingZero&&i.length<2&&(i="0"+i),"<span>"+i+"</span>"},CountBack:function(t,e){if(t<0)e.element.innerHTML='<div class="lof-labelexpired"> '+e.options.FinishMessage+"</div>";else{clearInterval(e.timer);var n=e.options.DisplayFormat.replace(/%%D%%/g,e.calculateDate(t,86400,1e5));n=(n=(n=n.replace(/%%H%%/g,e.calculateDate(t,3600,24))).replace(/%%M%%/g,e.calculateDate(t,60,60))).replace(/%%S%%/g,e.calculateDate(t,1,60)),e.element.innerHTML=n,e.options.CountActive&&(e.timer=null,e.timer=setTimeout((function(){e.CountBack(t+e.CountStepper,e)}),e.SetTimeOutPeriod))}}})}(jQuery);