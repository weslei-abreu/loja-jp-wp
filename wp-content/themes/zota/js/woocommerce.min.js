"use strict";class MiniCart{miniCartAll(){var e=this;jQuery(".dropdown-toggle").dropdown(),e.remove_click_Outside(),jQuery("#tbay-offcanvas-main .btn-toggle-canvas").on("click",function(){jQuery("#tbay-offcanvas-main").removeClass("active")}),jQuery(".mini-cart").click(function(t){0<jQuery(t.currentTarget).parents(".tbay-topcart").length&&(jQuery(".tbay-dropdown-cart").addClass("active"),jQuery(document.body).trigger("tbay_refreshed_mini_cart_top"))}),jQuery(".offcanvas-close").click(function(t){t.preventDefault(),jQuery(".tbay-dropdown-cart").removeClass("active"),jQuery("#wrapper-container").removeClass("offcanvas-right")}),jQuery(".mini-cart.v2").click(function(t){t.preventDefault(),jQuery("#wrapper-container").toggleClass(t.currentTarget.dataset.offcanvas)})}remove_click_Outside(){let e=jQuery(window);e.on("click.Bst,click touchstart tap",function(e){let t=jQuery(".tbay_header-template .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content, .tbay-element-mini-cart .widget-header-cart > span, .tbay-element-mini-cart .heading-title, .topbar-device-mobile .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content, .tbay-element-mini-cart .dropdown-content, a.ajax_add_to_cart, .tbay-element-mini-cart .cart_list a.remove"),a=!jQuery(".tbay-dropdown-cart").hasClass("active");return a||0!=t.has(e.target).length||t.is(e.target)?void 0:(jQuery("#wrapper-container").removeClass("offcanvas-right"),jQuery("#wrapper-container").removeClass("offcanvas-left"),jQuery(".tbay-dropdown-cart").removeClass("active"),jQuery("#tbay-offcanvas-main,.tbay-offcanvas").removeClass("active"),void jQuery("#tbay-dropdown-cart").hide(500))})}minicartTopContent(){let e=jQuery(".tbay_header-template .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content"),t=e.parent().find(".widget-header-cart").outerHeight(),a=jQuery(".tbay_header-template .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content .mcart-border ul.product_list_widget"),o=a.next().outerHeight();e.css("top",t),a.css("bottom",o+10)}minicartTopContentmobile(){let e=jQuery(".topbar-device-mobile .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content"),t=e.parent().find(".widget-header-cart").outerHeight(),a=jQuery(".topbar-device-mobile .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content .mcart-border ul.product_list_widget"),o=a.next().outerHeight();e.css("top",t),a.css("bottom",o+10)}}const ADDED_TO_CART_EVENT="added_to_cart",LOADMORE_AJAX_HOME_PAGE="tbay_more_post_ajax",LOADMORE_AJAX_SHOP_PAGE="tbay_pagination_more_post_ajax",LIST_POST_AJAX_SHOP_PAGE="tbay_list_post_ajax",GRID_POST_AJAX_SHOP_PAGE="tbay_grid_post_ajax";class AjaxCart{constructor(){if("undefined"!=typeof zota_settings){let e=this;switch(e.ajaxCartPosition=zota_settings.cart_position,e.ajaxCartPosition){case"popup":e._initAjaxPopup();break;case"left":e._initAjaxCartLeftOrRight("left");break;case"right":e._initAjaxCartLeftOrRight("right");}MiniCart.prototype.miniCartAll(),e._initEventRemoveProduct(),e._initEventMiniCartAjaxQuantity(),jQuery(window).on("resize",()=>{zota_settings.mobile&&992>jQuery(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),jQuery(document.body).on("wc_fragments_refreshed",function(){zota_settings.mobile&&992>jQuery(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),jQuery(document.body).on("wc_fragments_loaded",function(){zota_settings.mobile&&992>jQuery(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),jQuery(document.body).on("tbay_refreshed_mini_cart_top",function(){zota_settings.mobile&&992>jQuery(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()})}}_initAjaxPopupContent(e){let t=jQuery("#tbay-cart-modal"),a=jQuery("#tbay-cart-modal").find(".modal-body-content");zota_settings.popup_cart_noti;let o="";t.addClass("active"),jQuery(`.ajax_cart_popup`).trigger("active_ajax_cart_popup");let i=e.attr("aria-label");"undefined"==typeof i||(o+=`<div class="popup-cart">`,o+=`<div class="main-content">`,o+=`<i class="tb-icon tb-icon-check-circle"></i>`,o+=`<p class="cart-notification">${i}</p>`,!wc_add_to_cart_params.is_cart&&(o+=`<a class="button view-cart" href="${wc_add_to_cart_params.cart_url}" title="${wc_add_to_cart_params.i18n_view_cart}">${wc_add_to_cart_params.i18n_view_cart}</a>`),o+=`</div>`,o+=`</div>`,"undefined"!=typeof o&&a.append(o))}_initAjaxPopup(){var e=this;return"undefined"!=typeof wc_add_to_cart_params&&void(zota_settings.ajax_popup_quick?jQuery(`.ajax_cart_popup`).on("click",".ajax_add_to_cart",function(){let t=jQuery(this);e._initAjaxPopupContent(t)}):jQuery(`.ajax_cart_popup`).on(ADDED_TO_CART_EVENT,function(t,a,o,i){"undefined"==typeof a&&(a=jQuery.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name))),e._initAjaxPopupContent(i)}),jQuery(`.ajax_cart_popup`).on("active_ajax_cart_popup",()=>{jQuery("#tbay-cart-modal").hasClass("active")&&jQuery("#tbay-cart-modal").off().on("click",function(){let e=jQuery(this);jQuery(this).closest("#tbay-cart-modal").removeClass("active"),setTimeout(function(){e.closest("#tbay-cart-modal").find(".modal-body .modal-body-content").empty()},300)})}))}_initAjaxCartLeftOrRight(e){jQuery(`.ajax_cart_${e}`).on(ADDED_TO_CART_EVENT,function(){jQuery(".tbay-dropdown-cart").addClass("active"),jQuery(document.body).trigger("wc_fragments_refreshed")})}_initEventRemoveProduct(){return"undefined"!=typeof wc_add_to_cart_params&&void jQuery(document).on("click",".mini_cart_content a.remove",e=>{this._onclickRemoveProduct(e),e.stopPropagation()})}_onclickRemoveProduct(e){e.preventDefault();var t=jQuery(e.currentTarget).attr("data-product_id"),a=jQuery(e.currentTarget).attr("data-cart_item_key"),o=jQuery(e.currentTarget).parents(".mini_cart_item"),i=jQuery(e.currentTarget).closest(".widget_shopping_cart_content");o.block({message:null,overlayCSS:{cursor:"none"}}),this._callRemoveProductAjax(t,a,i,e)}_callRemoveProductAjax(e,t,a,o){jQuery.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"product_remove",product_id:e,nonce:zota_settings.wp_product_remove_nonce,cart_item_key:t},beforeSend:function(){a.find(".mini_cart_content").append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),o.stopPropagation()},success:t=>{this._onRemoveSuccess(t,e),jQuery(document.body).trigger("wc_fragments_refreshed")}})}_onRemoveSuccess(e,t){if(e&&!e.error){var a=e.fragments;a&&jQuery.each(a,function(e,t){jQuery(e).replaceWith(t)}),jQuery(".add_to_cart_button.added[data-product_id=\""+t+"\"]").removeClass("added").next(".wc-forward").remove()}}_initEventMiniCartAjaxQuantity(){jQuery("body").on("change",".mini_cart_content .qty",function(e){e.preventDefault();var t=zota_settings.wc_ajax_url.toString().replace("%%endpoint%%","zota_quantity_mini_cart"),a=jQuery(this),o=jQuery(a).parents(".mini_cart_content"),i=jQuery(a).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),r=parseFloat(jQuery(a).attr("max"));r||(r=!1);var n=parseFloat(jQuery(a).val());0<r&&n>r&&(jQuery(a).val(r),n=r),jQuery.ajax({url:t,type:"POST",dataType:"json",cache:!1,data:{hash:i,quantity:n},beforeSend:function(){o.append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),e.stopPropagation()},success:function(e){e&&e.fragments&&(jQuery.each(e.fragments,function(e,t){jQuery(e).length&&jQuery(e).replaceWith(t)}),"undefined"!=typeof $supports_html5_storage&&$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(e.fragments)),set_cart_hash(e.cart_hash),e.cart_hash&&set_cart_creation_timestamp()),jQuery(document.body).trigger("wc_fragments_refreshed"))}})})}}class WishList{constructor(){this._onChangeWishListItem()}_onChangeWishListItem(){jQuery(document).on("added_to_wishlist removed_from_wishlist",()=>{var e=jQuery(".count_wishlist");0===e.length||jQuery.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(t){e.html(t.count)},beforeSend:function(){e.block()},complete:function(){e.unblock()}})})}}class ProductItem{initAddButtonQuantity(){let e=jQuery(".quantity input");e.each(function(){jQuery(this).parent(".box").length||(jQuery(this).wrap("<span class=\"box\"></span>"),"hidden"==jQuery(this).attr("type")?jQuery(this).parents(".quantity").addClass("hidden"):(jQuery(`<button class="minus" type="button" value="&nbsp;">${zota_settings.quantity_minus}</button>`).insertBefore(jQuery(this)),jQuery(`<button class="plus" type="button" value="&nbsp;">${zota_settings.quantity_plus}</button>`).insertAfter(jQuery(this))))})}initOnChangeQuantity(e){"undefined"==typeof zota_settings||(this.initAddButtonQuantity(),jQuery(document).off("click",".plus, .minus").on("click",".plus, .minus",function(t){t.preventDefault();var a=jQuery(this).closest(".quantity").find(".qty"),o=parseFloat(a.val()),i=jQuery(a).attr("max"),r=jQuery(a).attr("min"),n=jQuery(a).attr("step");o=o&&""!==o&&"NaN"!==o?o:0,i=""===i||"NaN"===i?"":i,r=""===r||"NaN"===r?0:r,n="any"===n||""===n||n===void 0||parseFloat(n)===NaN?1:n,jQuery(this).is(".plus")?i&&(i==o||o>i)?a.val(i):a.val(o+parseFloat(n)):r&&(r==o||o<r)?a.val(r):0<o&&a.val(o-parseFloat(n)),e&&"function"==typeof e&&(jQuery(this).parent().find("input").trigger("change"),e(),0<jQuery(t.target).parents(".mini_cart_content").length&&t.stopPropagation())}))}_initSwatches(){0===jQuery(".tbay-swatches-wrapper li a").length||jQuery("body").on("click",".tbay-swatches-wrapper li a",function(e){e.preventDefault();let t=!1,a=jQuery(this).closest(".product-block");if(a.find(".tbay-product-slider-gallery").hasClass("slick-initialized"))var o=a.find(".image .slick-current img:eq(0)");else var o=a.find(".image img:eq(0)");jQuery(this).closest("ul").hasClass("active")||(jQuery(this).closest("ul").addClass("active"),o.attr("data-old",o.attr("src"))),jQuery(this).hasClass("selected")?(o.attr("src",o.data("old")),jQuery(this).removeClass("selected"),a.removeClass("product-swatched")):(jQuery(this).closest("ul").find("li a").each(function(){jQuery(this).hasClass("selected")&&jQuery(this).removeClass("selected")}),jQuery(this).addClass("selected"),a.addClass("product-swatched"),t=!0);t&&("undefined"!=typeof jQuery(this).data("imageSrc")&&o.attr("src",jQuery(this).data("imageSrc")),"undefined"!=typeof jQuery(this).data("imageSrcset")&&o.attr("srcset",jQuery(this).data("imageSrcset")),"undefined"!=typeof jQuery(this).data("imageSizes")&&o.attr("sizes",jQuery(this).data("imageSizes")))})}_initQuantityMode(){"undefined"!=typeof zota_settings&&zota_settings.quantity_mode&&(jQuery(".woocommerce .products").on("click",".quantity .qty",function(){return!1}),jQuery(".woocommerce .products").on("change input",".quantity .qty",function(){var e=jQuery(this).parents(".product").find(".add_to_cart_button");e.attr("data-quantity",jQuery(this).val())}),jQuery(".woocommerce .products").on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&jQuery(this).parents(".product").find(".add_to_cart_button").trigger("click")}))}}class Cart{constructor(){this._initEventChangeQuantity(),jQuery(document.body).on("updated_wc_div",()=>{this._initEventChangeQuantity(),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}),jQuery(document.body).on("cart_page_refreshed",()=>{this._initEventChangeQuantity()}),jQuery(document.body).on("tbay_display_mode",()=>{this._initEventChangeQuantity()})}_initEventChangeQuantity(){0===jQuery("body.woocommerce-cart [name='update_cart']").length?new ProductItem().initOnChangeQuantity(()=>{}):new ProductItem().initOnChangeQuantity(()=>{jQuery(".woocommerce-cart-form :input[name=\"update_cart\"]").prop("disabled",!1),"undefined"!=typeof zota_settings&&zota_settings.ajax_update_quantity&&jQuery("[name='update_cart']").trigger("click")})}}class Checkout{constructor(){this._toogleWoocommerceIcon()}_toogleWoocommerceIcon(){1>jQuery(".woocommerce-info a").length||jQuery(".woocommerce-info a").click(function(){jQuery(this).find(".icons").toggleClass("icon-arrow-down").toggleClass("icon-arrow-up")})}}class LoadMore{constructor(){"undefined"==typeof zota_settings||(this._initLoadMoreOnHomePage(),this._initLoadMoreOnShopPage(),this._int_berocket_lmp_end())}_initLoadMoreOnHomePage(){var e=this;jQuery(".more_products").each(function(){var t=jQuery(this).data("id");jQuery(`#more_products_${t} a[data-loadmore="true"]`).click(function(){var a=jQuery(this);return e._callAjaxLoadMore({data:{action:LOADMORE_AJAX_HOME_PAGE,paged:jQuery(this).data("paged")+1,number:jQuery(this).data("number"),columns:jQuery(this).data("columns"),layout:jQuery(this).data("layout"),type:jQuery(this).data("type"),category:jQuery(this).data("category"),screen_desktop:jQuery(this).data("desktop"),screen_desktopsmall:jQuery(this).data("desktopsmall"),screen_tablet:jQuery(this).data("tablet"),screen_mobile:jQuery(this).data("mobile")},event:a,id:t,thisItem:jQuery(this).parent().parent()}),!1})})}_initLoadMoreOnShopPage(){jQuery(".tbay-pagination-load-more").each(function(){jQuery(this).data("id"),jQuery(".tbay-pagination-load-more a[data-loadmore=\"true\"]").click(function(){var e=jQuery(this),t={action:LOADMORE_AJAX_SHOP_PAGE,query:zota_settings.posts,page:zota_settings.current_page};return jQuery.ajax({url:zota_settings.ajaxurl,data:t,type:"POST",beforeSend:function(){e.addClass("active")},success:function(t){t?(e.closest("#main").find(".display-products > div").append(t),zota_settings.current_page++,e.removeClass("active"),zota_settings.current_page==zota_settings.max_page&&e.remove()):e.remove()}}),!1})})}_callAjaxLoadMore(e){var t=this,a=e.data,o=e.event;jQuery.ajax({type:"POST",dataType:"JSON",url:woocommerce_params.ajax_url,data:a,beforeSend:function(){o.addClass("active")},success:function(a){t._onAjaxSuccess(a,e)}})}_onAjaxSuccess(e,t){var a=t.data,o=t.event;!1==e.check&&o.remove(),o.data("paged",a.paged),o.data("number",a.number+a.columns*(t.data.action===LOADMORE_AJAX_HOME_PAGE?3:2));var i=t.data.action===LOADMORE_AJAX_HOME_PAGE?jQuery(`.widget_products_${t.id} .products>.row`):jQuery(".archive-shop .products >.row");i.append(e.posts),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),jQuery(`.variable-load-more-${a.paged}`).tawcvs_variation_swatches_form(),"undefined"!=typeof tawcvs_variation_swatches_form&&(jQuery(".variations_form").tawcvs_variation_swatches_form(),jQuery(document.body).trigger("tawcvs_initialized")),o.find(".loadding").remove(),o.removeClass("active"),o.button("reset"),t.thisItem.removeAttr("style")}_int_berocket_lmp_end(){jQuery(document).on("berocket_lmp_end",()=>{jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),"undefined"!=typeof tawcvs_variation_swatches_form&&(jQuery(".variations_form").tawcvs_variation_swatches_form(),jQuery(document.body).trigger("tawcvs_initialized"))})}}class ModalVideo{constructor(e,t={classBtn:".tbay-modalButton",defaultW:640,defaultH:360}){this.$el=e,this.options=t,this._initVideoIframe()}_initVideoIframe(){jQuery(`${this.options.classBtn}[data-target='${this.$el}']`).on("click",this._onClickModalBtn),jQuery(this.$el).on("hidden.bs.modal",()=>{jQuery(this.$el).find("iframe").html("").attr("src","")})}_onClickModalBtn(e){let t=jQuery(e.currentTarget).data("target");var a=jQuery(e.currentTarget).attr("data-tbayVideoFullscreen")||!1,o={src:jQuery(e.currentTarget).attr("data-tbaySrc"),height:jQuery(e.currentTarget).attr("data-tbayHeight")||this.options.defaultH,width:jQuery(e.currentTarget).attr("data-tbayWidth")||this.options.defaultW};a&&(o.allowfullscreen=""),jQuery(t).find("iframe").attr(o),e.preventDefault()}}class WooCommon{constructor(){this._tbayFixRemove(),jQuery(document.body).on("tbayFixRemove",()=>{this._tbayFixRemove()})}_tbayFixRemove(){jQuery(".tbay-gallery-varible .woocommerce-product-gallery__trigger").remove()}}/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)})(function(t){var a,o,r,n,d,l,c=function(){},p=!!window.jQuery,m=t(window),u=function(e,t){a.ev.on("mfp"+e+".mfp",t)},f=function(e,a,o,i){var r=document.createElement("div");return r.className="mfp-"+e,o&&(r.innerHTML=o),i?a&&a.appendChild(r):(r=t(r),a&&r.appendTo(a)),r},g=function(o,i){a.ev.triggerHandler("mfp"+o,i),a.st.callbacks&&(o=o.charAt(0).toLowerCase()+o.slice(1),a.st.callbacks[o]&&a.st.callbacks[o].apply(a,t.isArray(i)?i:[i]))},_=function(e){return e===l&&a.currTemplate.closeBtn||(a.currTemplate.closeBtn=t(a.st.closeMarkup.replace("%title%",a.st.tClose)),l=e),a.currTemplate.closeBtn},b=function(){t.magnificPopup.instance||(a=new c,a.init(),t.magnificPopup.instance=a)},y=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e.transition!==void 0)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};c.prototype={constructor:c,init:function(){var e=navigator.appVersion;a.isLowIE=a.isIE8=document.all&&!document.addEventListener,a.isAndroid=/android/gi.test(e),a.isIOS=/iphone|ipad|ipod/gi.test(e),a.supportsTransition=y(),a.probablyMobile=a.isAndroid||a.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=t(document),a.popupsCache={}},open:function(e){var o;if(!1===e.isObj){a.items=e.items.toArray(),a.index=0;var l,c=e.items;for(o=0;o<c.length;o++)if(l=c[o],l.parsed&&(l=l.el[0]),l===e.el[0]){a.index=o;break}}else a.items=t.isArray(e.items)?e.items:[e.items],a.index=e.index||0;if(a.isOpen)return void a.updateItemHTML();a.types=[],d="",a.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):r,e.key?(!a.popupsCache[e.key]&&(a.popupsCache[e.key]={}),a.currTemplate=a.popupsCache[e.key]):a.currTemplate={},a.st=t.extend(!0,{},t.magnificPopup.defaults,e),a.fixedContentPos="auto"===a.st.fixedContentPos?!a.probablyMobile:a.st.fixedContentPos,a.st.modal&&(a.st.closeOnContentClick=!1,a.st.closeOnBgClick=!1,a.st.showCloseBtn=!1,a.st.enableEscapeKey=!1),a.bgOverlay||(a.bgOverlay=f("bg").on("click.mfp",function(){a.close()}),a.wrap=f("wrap").attr("tabindex",-1).on("click.mfp",function(t){a._checkIfClose(t.target)&&a.close()}),a.container=f("container",a.wrap)),a.contentContainer=f("content"),a.st.preloader&&(a.preloader=f("preloader",a.container,a.st.tLoading));var p=t.magnificPopup.modules;for(o=0;o<p.length;o++){var b=p[o];b=b.charAt(0).toUpperCase()+b.slice(1),a["init"+b].call(a)}g("BeforeOpen"),a.st.showCloseBtn&&(a.st.closeBtnInside?(u("MarkupParse",function(t,e,a,o){a.close_replaceWith=_(o.type)}),d+=" mfp-close-btn-in"):a.wrap.append(_())),a.st.alignTop&&(d+=" mfp-align-top"),a.fixedContentPos?a.wrap.css({overflow:a.st.overflowY,overflowX:"hidden",overflowY:a.st.overflowY}):a.wrap.css({top:m.scrollTop(),position:"absolute"}),!1!==a.st.fixedBgPos&&("auto"!==a.st.fixedBgPos||a.fixedContentPos)||a.bgOverlay.css({height:r.height(),position:"absolute"}),a.st.enableEscapeKey&&r.on("keyup.mfp",function(t){27===t.keyCode&&a.close()}),m.on("resize.mfp",function(){a.updateSize()}),a.st.closeOnContentClick||(d+=" mfp-auto-cursor"),d&&a.wrap.addClass(d);var y=a.wH=m.height(),h={};if(a.fixedContentPos&&a._hasScrollBar(y)){var v=a._getScrollbarSize();v&&(h.marginRight=v)}a.fixedContentPos&&(a.isIE7?t("body, html").css("overflow","hidden"):h.overflow="hidden");var s=a.st.mainClass;return a.isIE7&&(s+=" mfp-ie7"),s&&a._addClassToMFP(s),a.updateItemHTML(),g("BuildControls"),t("html").css(h),a.bgOverlay.add(a.wrap).prependTo(a.st.prependTo||t(document.body)),a._lastFocusedEl=document.activeElement,setTimeout(function(){a.content?(a._addClassToMFP("mfp-ready"),a._setFocus()):a.bgOverlay.addClass("mfp-ready"),r.on("focusin.mfp",a._onFocusIn)},16),a.isOpen=!0,a.updateSize(y),g("Open"),e},close:function(){a.isOpen&&(g("BeforeClose"),a.isOpen=!1,a.st.removalDelay&&!a.isLowIE&&a.supportsTransition?(a._addClassToMFP("mfp-removing"),setTimeout(function(){a._close()},a.st.removalDelay)):a._close())},_close:function(){g("Close");var e="mfp-removing mfp-ready ";if(a.bgOverlay.detach(),a.wrap.detach(),a.container.empty(),a.st.mainClass&&(e+=a.st.mainClass+" "),a._removeClassFromMFP(e),a.fixedContentPos){var o={marginRight:""};a.isIE7?t("body, html").css("overflow",""):o.overflow="",t("html").css(o)}r.off("keyup.mfp focusin.mfp"),a.ev.off(".mfp"),a.wrap.attr("class","mfp-wrap").removeAttr("style"),a.bgOverlay.attr("class","mfp-bg"),a.container.attr("class","mfp-container"),a.st.showCloseBtn&&(!a.st.closeBtnInside||!0===a.currTemplate[a.currItem.type])&&a.currTemplate.closeBtn&&a.currTemplate.closeBtn.detach(),a.st.autoFocusLast&&a._lastFocusedEl&&t(a._lastFocusedEl).focus(),a.currItem=null,a.content=null,a.currTemplate=null,a.prevHeight=0,g("AfterClose")},updateSize:function(e){if(a.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,o=window.innerHeight*t;a.wrap.css("height",o),a.wH=o}else a.wH=e||m.height();a.fixedContentPos||a.wrap.css("height",a.wH),g("Resize")},updateItemHTML:function(){var e=a.items[a.index];a.contentContainer.detach(),a.content&&a.content.detach(),e.parsed||(e=a.parseEl(a.index));var o=e.type;if(g("BeforeChange",[a.currItem?a.currItem.type:"",o]),a.currItem=e,!a.currTemplate[o]){var i=!!a.st[o]&&a.st[o].markup;g("FirstMarkupParse",i),a.currTemplate[o]=!i||t(i)}n&&n!==e.type&&a.container.removeClass("mfp-"+n+"-holder");var r=a["get"+o.charAt(0).toUpperCase()+o.slice(1)](e,a.currTemplate[o]);a.appendContent(r,o),e.preloaded=!0,g("Change",e),n=e.type,a.container.prepend(a.contentContainer),g("AfterChange")},appendContent:function(e,t){a.content=e,e?a.st.showCloseBtn&&a.st.closeBtnInside&&!0===a.currTemplate[t]?!a.content.find(".mfp-close").length&&a.content.append(_()):a.content=e:a.content="",g("BeforeAppend"),a.container.addClass("mfp-"+t+"-holder"),a.contentContainer.append(a.content)},parseEl:function(e){var o,r=a.items[e];if(r.tagName?r={el:t(r)}:(o=r.type,r={data:r,src:r.src}),r.el){for(var n=a.types,s=0;s<n.length;s++)if(r.el.hasClass("mfp-"+n[s])){o=n[s];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=o||a.st.type||"inline",r.index=e,r.parsed=!0,a.items[e]=r,g("ElementParse",r),a.items[e]},addGroup:function(t,o){var i=function(i){i.mfpEl=this,a._openClick(i,t,o)};o||(o={});var r="click.magnificPopup";o.mainEl=t,o.items?(o.isObj=!0,t.off("click.magnificPopup").on("click.magnificPopup",i)):(o.isObj=!1,o.delegate?t.off("click.magnificPopup").on("click.magnificPopup",o.delegate,i):(o.items=t,t.off("click.magnificPopup").on("click.magnificPopup",i)))},_openClick:function(o,e,i){var r=i.midClick===void 0?t.magnificPopup.defaults.midClick:i.midClick;if(!(!r&&(2===o.which||o.ctrlKey||o.metaKey||o.altKey||o.shiftKey))){var n=void 0===i.disableOn?t.magnificPopup.defaults.disableOn:i.disableOn;if(n)if(t.isFunction(n)){if(!n.call(a))return!0;}else if(m.width()<n)return!0;o.type&&(o.preventDefault(),a.isOpen&&o.stopPropagation()),i.el=t(o.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),a.open(i)}},updateStatus:function(e,t){if(a.preloader){o!==e&&a.container.removeClass("mfp-s-"+o),t||"loading"!==e||(t=a.st.tLoading);var i={status:e,text:t};g("UpdateStatus",i),e=i.status,t=i.text,a.preloader.html(t),a.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),a.container.addClass("mfp-s-"+e),o=e}},_checkIfClose:function(e){if(!t(e).hasClass("mfp-prevent-close")){var o=a.st.closeOnContentClick,i=a.st.closeOnBgClick;if(o&&i)return!0;if(!a.content||t(e).hasClass("mfp-close")||a.preloader&&e===a.preloader[0])return!0;if(e!==a.content[0]&&!t.contains(a.content[0],e)){if(i&&t.contains(document,e))return!0;}else if(o)return!0;return!1}},_addClassToMFP:function(e){a.bgOverlay.addClass(e),a.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),a.wrap.removeClass(e)},_hasScrollBar:function(e){return(a.isIE7?r.height():document.body.scrollHeight)>(e||m.height())},_setFocus:function(){(a.st.focus?a.content.find(a.st.focus).eq(0):a.wrap).focus()},_onFocusIn:function(o){if(o.target!==a.wrap[0]&&!t.contains(a.wrap[0],o.target))return a._setFocus(),!1},_parseMarkup:function(e,a,o){var i;o.data&&(a=t.extend(o.data,a)),g("MarkupParse",[e,a,o]),t.each(a,function(a,o){if(void 0===o||!1===o)return!0;if(i=a.split("_"),1<i.length){var r=e.find(".mfp-"+i[0]);if(0<r.length){var n=i[1];"replaceWith"===n?r[0]!==o[0]&&r.replaceWith(o):"img"===n?r.is("img")?r.attr("src",o):r.replaceWith(t("<img>").attr("src",o).attr("class",r.attr("class"))):r.attr(i[1],o)}}else e.find(".mfp-"+a).html(o)})},_getScrollbarSize:function(){if(a.scrollbarSize===void 0){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),a.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return a.scrollbarSize}},t.magnificPopup={instance:null,proto:c.prototype,modules:[],open:function(e,a){return b(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=a||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,a){a.options&&(t.magnificPopup.defaults[e]=a.options),t.extend(this.proto,a.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>",tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(e){b();var o=t(this);if(!("string"==typeof e))e=t.extend(!0,{},e),p?o.data("magnificPopup",e):o[0].magnificPopup=e,a.addGroup(o,e);else if("open"===e){var i,r=p?o.data("magnificPopup"):o[0].magnificPopup,n=parseInt(arguments[1],10)||0;r.items?i=r.items[n]:(i=o,r.delegate&&(i=i.find(r.delegate)),i=i.eq(n)),a._openClick({mfpEl:i},o,r)}else a.isOpen&&a[e].apply(a,Array.prototype.slice.call(arguments,1));return o};var h,v,w,C=function(){w&&(v.after(w.addClass(h)).detach(),w=null)};t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){a.types.push("inline"),u("Close.inline",function(){C()})},getInline:function(e,o){if(C(),e.src){var i=a.st.inline,r=t(e.src);if(r.length){var n=r[0].parentNode;n&&n.tagName&&(!v&&(h=i.hiddenClass,v=f(h),h="mfp-"+h),w=r.after(v).detach().removeClass(h)),a.updateStatus("ready")}else a.updateStatus("error",i.tNotFound),r=t("<div>");return e.inlineElement=r,r}return a.updateStatus("ready"),a._parseMarkup(o,{},e),o}}});var x,k=function(){x&&t(document.body).removeClass(x)},S=function(){k(),a.req&&a.req.abort()};t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:"<a href=\"%url%\">The content</a> could not be loaded."},proto:{initAjax:function(){a.types.push("ajax"),x=a.st.ajax.cursor,u("Close.ajax",S),u("BeforeChange.ajax",S)},getAjax:function(e){x&&t(document.body).addClass(x),a.updateStatus("loading");var o=t.extend({url:e.src,success:function(o,i,r){var n={data:o,xhr:r};g("ParseAjax",n),a.appendContent(t(n.data),"ajax"),e.finished=!0,k(),a._setFocus(),setTimeout(function(){a.wrap.addClass("mfp-ready")},16),a.updateStatus("ready"),g("AjaxContentAdded")},error:function(){k(),e.finished=e.loadError=!0,a.updateStatus("error",a.st.ajax.tError.replace("%url%",e.src))}},a.st.ajax.settings);return a.req=t.ajax(o),""}}});var j,P=function(e){if(e.data&&e.data.title!==void 0)return e.data.title;var o=a.st.image.titleSrc;if(o){if(t.isFunction(o))return o.call(a,e);if(e.el)return e.el.attr(o)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:"<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"<a href=\"%url%\">The image</a> could not be loaded."},proto:{initImage:function(){var e=a.st.image,o=".image";a.types.push("image"),u("Open.image",function(){"image"===a.currItem.type&&e.cursor&&t(document.body).addClass(e.cursor)}),u("Close.image",function(){e.cursor&&t(document.body).removeClass(e.cursor),m.off("resize.mfp")}),u("Resize.image",a.resizeImage),a.isLowIE&&u("AfterChange",a.resizeImage)},resizeImage:function(){var e=a.currItem;if(e&&e.img&&a.st.image.verticalFit){var t=0;a.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",a.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,g("ImageHasSize",e),e.imgHidden&&(a.content&&a.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,o=e.img[0],i=function(r){j&&clearInterval(j),j=setInterval(function(){return 0<o.naturalWidth?void a._onImageHasSize(e):void(200<t&&clearInterval(j),t++,3===t?i(10):40===t?i(50):100==t&&i(500))},r)};i(1)},getImage:function(e,o){var i=0,r=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===a.currItem&&(a._onImageHasSize(e),a.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,g("ImageLoadComplete")):(i++,200>i?setTimeout(r,100):n()))},n=function(){e&&(e.img.off(".mfploader"),e===a.currItem&&(a._onImageHasSize(e),a.updateStatus("error",s.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},s=a.st.image,d=o.find(".mfp-img");if(d.length){var l=document.createElement("img");l.className="mfp-img",e.el&&e.el.find("img").length&&(l.alt=e.el.find("img").attr("alt")),e.img=t(l).on("load.mfploader",r).on("error.mfploader",n),l.src=e.src,d.is("img")&&(e.img=e.img.clone()),l=e.img[0],0<l.naturalWidth?e.hasSize=!0:!l.width&&(e.hasSize=!1)}return(a._parseMarkup(o,{title:P(e),img_replaceWith:e.img},e),a.resizeImage(),e.hasSize)?(j&&clearInterval(j),e.loadError?(o.addClass("mfp-loading"),a.updateStatus("error",s.tError.replace("%url%",e.src))):(o.removeClass("mfp-loading"),a.updateStatus("ready")),o):(a.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,o.addClass("mfp-loading"),a.findImageSize(e)),o)}}});var T,I=function(){return void 0===T&&(T=void 0!==document.createElement("p").style.MozTransform),T};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,o=a.st.zoom,i=".zoom";if(o.enabled&&a.supportsTransition){var t,r,n=o.duration,s=function(e){var a=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+o.duration/1e3+"s "+o.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return r["-webkit-transition"]=r["-moz-transition"]=r["-o-transition"]=r.transition=i,a.css(r),a},d=function(){a.content.css("visibility","visible")};u("BuildControls.zoom",function(){if(a._allowZoom()){if(clearTimeout(t),a.content.css("visibility","hidden"),e=a._getItemToZoom(),!e)return void d();r=s(e),r.css(a._getOffset()),a.wrap.append(r),t=setTimeout(function(){r.css(a._getOffset(!0)),t=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,g("ZoomAnimationEnded")},16)},n)},16)}}),u("BeforeClose.zoom",function(){if(a._allowZoom()){if(clearTimeout(t),a.st.removalDelay=n,!e){if(e=a._getItemToZoom(),!e)return;r=s(e)}r.css(a._getOffset(!0)),a.wrap.append(r),a.content.css("visibility","hidden"),setTimeout(function(){r.css(a._getOffset())},16)}}),u("Close.zoom",function(){a._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===a.currItem.type},_getItemToZoom:function(){return!!a.currItem.hasSize&&a.currItem.img},_getOffset:function(e){var o;o=e?a.currItem.img:a.st.zoom.opener(a.currItem.el||a.currItem);var i=o.offset(),r=parseInt(o.css("padding-top"),10),n=parseInt(o.css("padding-bottom"),10);i.top-=t(window).scrollTop()-r;var s={width:o.width(),height:(p?o.innerHeight():o[0].offsetHeight)-n-r};return I()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var z=function(e){if(a.currTemplate.iframe){var t=a.currTemplate.iframe.find("iframe");t.length&&(!e&&(t[0].src="//about:blank"),a.isIE8&&t.css("display",e?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:"<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){a.types.push("iframe"),u("BeforeChange",function(t,e,a){e!==a&&(e==="iframe"?z():a==="iframe"&&z(!0))}),u("Close.iframe",function(){z()})},getIframe:function(e,o){var i=e.src,r=a.st.iframe;t.each(r.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&("string"==typeof this.id?i=i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):i=this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var n={};return r.srcAction&&(n[r.srcAction]=i),a._parseMarkup(o,n,e),a.updateStatus("ready"),o}}});var O=function(e){var t=a.items.length;if(e>t-1)return e-t;return 0>e?t+e:e},M=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>",preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var o=a.st.gallery,i=".mfp-gallery";return a.direction=!0,!!(o&&o.enabled)&&void(d+=" mfp-gallery",u("Open.mfp-gallery",function(){o.navigateByImgClick&&a.wrap.on("click.mfp-gallery",".mfp-img",function(){if(1<a.items.length)return a.next(),!1}),r.on("keydown.mfp-gallery",function(t){37===t.keyCode?a.prev():39===t.keyCode&&a.next()})}),u("UpdateStatus.mfp-gallery",function(t,e){e.text&&(e.text=M(e.text,a.currItem.index,a.items.length))}),u("MarkupParse.mfp-gallery",function(t,e,i,r){var n=a.items.length;i.counter=1<n?M(o.tCounter,r.index,n):""}),u("BuildControls.mfp-gallery",function(){if(1<a.items.length&&o.arrows&&!a.arrowLeft){var e=o.arrowMarkup,i=a.arrowLeft=t(e.replace(/%title%/gi,o.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),r=a.arrowRight=t(e.replace(/%title%/gi,o.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");i.click(function(){a.prev()}),r.click(function(){a.next()}),a.container.append(i.add(r))}}),u("Change.mfp-gallery",function(){a._preloadTimeout&&clearTimeout(a._preloadTimeout),a._preloadTimeout=setTimeout(function(){a.preloadNearbyImages(),a._preloadTimeout=null},16)}),u("Close.mfp-gallery",function(){r.off(".mfp-gallery"),a.wrap.off("click.mfp-gallery"),a.arrowRight=a.arrowLeft=null}))},next:function(){a.direction=!0,a.index=O(a.index+1),a.updateItemHTML()},prev:function(){a.direction=!1,a.index=O(a.index-1),a.updateItemHTML()},goTo:function(e){a.direction=e>=a.index,a.index=e,a.updateItemHTML()},preloadNearbyImages:function(){var t,e=Math.min,o=a.st.gallery.preload,r=e(o[0],a.items.length),n=e(o[1],a.items.length);for(t=1;t<=(a.direction?n:r);t++)a._preloadItem(a.index+t);for(t=1;t<=(a.direction?r:n);t++)a._preloadItem(a.index-t)},_preloadItem:function(e){if(e=O(e),!a.items[e].preloaded){var o=a.items[e];o.parsed||(o=a.parseEl(e)),g("LazyLoad",o),"image"===o.type&&(o.img=t("<img class=\"mfp-img\" />").on("load.mfploader",function(){o.hasSize=!0}).on("error.mfploader",function(){o.hasSize=!0,o.loadError=!0,g("LazyLoadError",o)}).attr("src",o.src)),o.preloaded=!0}}}});t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var t=a.st.retina,o=t.ratio;o=isNaN(o)?o():o,1<o&&(u("ImageHasSize.retina",function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/o,width:"100%"})}),u("ElementParse.retina",function(a,e){e.src=t.replaceSrc(e,o)}))}}}}),b()});class QuickView{constructor(){"undefined"==typeof zota_settings||this._init_tbay_quick_view()}_init_tbay_quick_view(){var t=this;jQuery(document).off("click","a.qview-button").on("click","a.qview-button",function(a){a.preventDefault();let e=jQuery(this);e.parent().addClass("loading");let o=e.attr("data-effect"),i=!1,r=jQuery(this).data("product_id"),n=zota_settings.ajaxurl+"?action=zota_quickview_product&product_id="+r;"undefined"!=typeof zota_settings.loader&&(i=!0,e.block({message:null,overlayCSS:{background:"#fff url("+zota_settings.loader+") no-repeat center",opacity:.5,cursor:"none"}})),t._ajax_call(e,n,i,o),a.stopPropagation()})}_ajax_call(e,t,a,o){jQuery.get(t,function(t,i){jQuery.magnificPopup.open({removalDelay:100,closeMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-close\"> "+zota_settings.close+"</button>",callbacks:{beforeOpen:function(){this.st.mainClass=o+" zota-quickview"}},items:{src:t,type:"inline"}});let r=jQuery("#tbay-quick-view-content"),n=r.find(".variations_form");"undefined"!=typeof wc_add_to_cart_variation_params&&n.each(function(){jQuery(this).wc_variation_form()}),jQuery(document.body).trigger("updated_wc_div"),e.parent().removeClass("loading"),a&&e.unblock(),jQuery(document.body).trigger("tbay_quick_view")})}}class DisplayMode{constructor(){"undefined"==typeof zota_settings||(this._initModeListShopPage(),this._initModeGridShopPage(),jQuery(document.body).on("displayMode",()=>{this._initModeListShopPage(),this._initModeGridShopPage()}))}_initModeListShopPage(){jQuery("#display-mode-list").each(function(e){jQuery(this).click(function(){if(!jQuery(this).hasClass("active")){var e=jQuery(this),t={action:LIST_POST_AJAX_SHOP_PAGE,query:zota_settings.posts};return jQuery.ajax({url:zota_settings.ajaxurl,data:t,type:"POST",beforeSend:function(t){e.closest("#main").find(".display-products").addClass("load-ajax")},success:function(t){t&&(e.parent().children().removeClass("active"),e.addClass("active"),e.closest("#main").find(".display-products > div").html(t),e.closest("#main").find(".display-products").fadeOut(0,function(){jQuery(this).addClass("products-list").removeClass("products-grid grid").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),jQuery(document.body).trigger("tbay_display_mode"),e.closest("#main").find(".display-products").removeClass("load-ajax"),Cookies.set("zota_display_mode","list",{expires:.1,path:"/"}))}}),!1}})})}_initModeGridShopPage(){jQuery("#display-mode-grid").each(function(e){jQuery(this).click(function(){if(!jQuery(this).hasClass("active")){var e=jQuery(this),t={action:GRID_POST_AJAX_SHOP_PAGE,query:zota_settings.posts};return e.closest("#main").find("div.display-products"),jQuery.ajax({url:zota_settings.ajaxurl,data:t,type:"POST",beforeSend:function(t){e.closest("#main").find(".display-products").addClass("load-ajax")},success:function(t){if(t){e.parent().children().removeClass("active"),e.addClass("active"),e.closest("#main").find(".display-products > div").html(t);let a=e.closest("#main").find("div.display-products");a.fadeOut(0,function(){jQuery(this).addClass("products-grid").removeClass("products-list").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),jQuery(document.body).trigger("tbay_display_mode"),e.closest("#main").find(".display-products").removeClass("load-ajax"),Cookies.set("zota_display_mode","grid",{expires:.1,path:"/"})}}}),!1}})})}}class AjaxFilter{constructor(){this._intAjaxFilter()}_intAjaxFilter(){function e(t){jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),jQuery(document.body).trigger("tbayFixRemove"),jQuery(document.body).trigger("displayMode"),jQuery(document.body).trigger("ajax_sidebar_shop_mobile"),jQuery("body").hasClass("filter-mobile-active")&&jQuery("body").removeClass("filter-mobile-active"),"undefined"!=typeof tawcvs_variation_swatches_form&&(jQuery(".variations_form").tawcvs_variation_swatches_form(),jQuery(document.body).trigger("tawcvs_initialized")),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}jQuery(document).on("woof_ajax_done",e)}}class ShopProduct{constructor(){var e=this;e._SidebarShopMobile(),e._removeProductCategory(),jQuery(document.body).on("ajax_sidebar_shop_mobile",()=>{e._SidebarShopMobile(),jQuery(".filter-btn-wrapper").removeClass("active"),jQuery("body").removeClass("filter-mobile-active")})}_SidebarShopMobile(){let e=jQuery("#button-filter-btn"),t=jQuery("#filter-close,.close-side-widget");e.on("click",function(t){jQuery(".filter-btn-wrapper").addClass("active"),jQuery("body").addClass("filter-mobile-active")}),t.on("click",function(t){jQuery(".filter-btn-wrapper").removeClass("active"),jQuery("body").removeClass("filter-mobile-active")})}_removeProductCategory(){let e=jQuery(".archive-shop .display-products .product-category");0===e.length||e.remove()}}class SingleProduct{constructor(){var e=this;e._intStickyMenuBar(),e._intNavImage(),e._intReviewPopup(),e._intShareMobile(),e._intTabsMobile(),e._initBuyNow(),e._initMoveTopSingle(!1),e._initChangeImageVarible(),e._initOpenAttributeMobile(),e._initCloseAttributeMobile(),e._initCloseAttributeMobileWrapper(),e._initAddToCartClickMobile(),e._initBuyNowwClickMobile(),setTimeout(function(){jQuery(document.body).on("tbay_quick_view",()=>{e._initBuyNow()})},2e3)}_intStickyMenuBar(){0===jQuery("#sticky-custom-add-to-cart").length||jQuery("body").on("click","#sticky-custom-add-to-cart",function(e){jQuery("#shop-now .single_add_to_cart_button").click(),e.stopPropagation()})}_intNavImage(){jQuery(window).scroll(function(){let e=400<jQuery(this).scrollTop();jQuery(".product-nav").toggleClass("active",e)})}_intReviewPopup(){if(0!==jQuery("#list-review-images").length){var e=[];jQuery("#list-review-images").find(".review-item").each(function(){var t=jQuery(this).find(".review-link"),a={src:t.attr("href"),w:t.data("width"),h:t.data("height"),title:t.children(".caption").html()};e.push(a)}),jQuery("#list-review-images > ul> li a").off("click").on("click",function(t){t.preventDefault();var a=jQuery(".pswp")[0],o={index:jQuery(this).parents(".review-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-review-images"},i=new PhotoSwipe(a,PhotoSwipeUI_Default,e,o);i.init(),t.stopPropagation()})}}_intShareMobile(){let e=jQuery(".woo-share-mobile"),t=jQuery(".image-mains .show-mobile .woo-share-mobile .share-content .share-header .share-close i");e.find("button").click(function(){jQuery(event.target).parents(".woo-share-mobile").toggleClass("open"),jQuery("body").toggleClass("overflow-y")});let a=jQuery(window),o=jQuery(".woo-share-mobile button, .woo-share-mobile button i, .woo-share-mobile .content, .woo-share-mobile .share-title, .woo-share-mobile .share-close");a.on("click.Bst",function(t){e.hasClass("open")&&(0!=o.has(t.target).length||o.is(t.target)||(e.removeClass("open"),jQuery("body").removeClass("overflow-y")))}),t.click(function(){e.removeClass("open"),jQuery("body").removeClass("overflow-y")})}_intTabsMobile(){let t=jQuery(".woocommerce-tabs-sidebar"),a=t.find(".tabs-sidebar a"),o=t.find(".close-tab, #tab-sidebar-close"),i=jQuery("body"),r=jQuery(".tabs-sidebar"),n=window.matchMedia("(max-width: 1199px)");0===t.length||(a.click(function(a){a.preventDefault();let e=jQuery(this).data("tabid");r.addClass("open"),t.find(".wc-tab-sidebar").removeClass("open"),jQuery("#"+e).addClass("open"),n.matches&&i.addClass("overflow-y")}),o.click(function(t){t.preventDefault(),r.removeClass("open"),jQuery(this).closest(".woocommerce-tabs-sidebar").find(".wc-tab-sidebar").removeClass("open"),n.matches&&i.removeClass("overflow-y")}))}_initBuyNow(){0===jQuery(".tbay-buy-now").length||(jQuery("body").on("click",".tbay-buy-now",function(t){t.preventDefault();let e=jQuery(this).closest("form.cart"),a=e.find("[type=\"submit\"]"),o=e.find("input[name=\"zota_buy_now\"]"),i=a.is(".disabled");i||o.val("1"),a.trigger("click")}),jQuery(document.body).on("show_variation",(e,t,a)=>{a?jQuery(e.target).parents("form.variations_form").find(".tbay-buy-now").removeClass("disabled"):jQuery(e.target).parents("form.variations_form").find(".tbay-buy-now").addClass("disabled")}),jQuery(document.body).on("hide_variation",(e,t,a)=>{jQuery(e.target).parents("form.variations_form").find(".tbay-buy-now").addClass("disabled")}))}_initFeatureVideo(){if("undefined"!=typeof zota_settings){let e=jQuery(document).find(zota_settings.img_class_container+".tbay_featured_content");if(0!==e.length){let t=e.index(),a=jQuery(zota_settings.thumbnail_gallery_class_element).get(t);jQuery(a).addClass("tbay_featured_thumbnail")}}}_initMoveTopSingle(e){let t=jQuery(".top-single-product");if(0!==t.length){let a=jQuery(window).width();991>a?0<t.length&&t.prependTo(jQuery(".single-main-content > .row > .information")):e&&t.prependTo(jQuery(".singular-shop .single-main-content"))}}_initChangeImageVarible(){let e=jQuery("form.variations_form");0===e.length||(e.on("change",function(){var t=jQuery(this),a=[];t.find(".variations tr").each(function(){"undefined"!=typeof jQuery(this).find("select").val()&&a.push(jQuery(this).find("select option:selected").text())}),t.parent().find(".mobile-attribute-list .value").empty().append(a.join("/ ")),jQuery(document.body).on("show_variation",()=>{e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html())})}),setTimeout(function(){jQuery(document.body).on("reset_data",()=>(e.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-availability").empty(),void e.find(".mobile-infor-wrapper .infor-body").empty().append(e.parent().children(".price").html()))),jQuery(document.body).on("woocommerce_gallery_init_zoom",()=>{let e=jQuery(".flex-control-thumbs").find(".flex-active").attr("src");jQuery(".mobile-infor-wrapper img").attr("src",e)}),jQuery(document.body).on("mobile_attribute_open",()=>{e.find(".single_variation_wrap .single_variation").is(":empty")?e.find(".mobile-infor-wrapper .infor-body").empty().append(e.parent().children(".price").html()):e.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html()),e.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(e.parent().children(".price").html())):e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html())})},1e3))}_initOpenAttributeMobile(){let e=jQuery("#attribute-open");0===e.length||e.off().on("click",function(){jQuery(this).parent().parent().find("form.cart").addClass("open open-btn-all"),jQuery(document.body).trigger("mobile_attribute_open")})}_initAddToCartClickMobile(){let e=jQuery("#tbay-click-addtocart");0===e.length||e.off().on("click",function(){jQuery(this).parent().parent().find("form.cart").addClass("open open-btn-addtocart")})}_initBuyNowwClickMobile(){let e=jQuery("#tbay-click-buy-now");0===e.length||e.off().on("click",function(){jQuery(this).parent().parent().find("form.cart").addClass("open open-btn-buynow")})}_initCloseAttributeMobile(){let e=jQuery("#mobile-close-infor");0===e.length||e.off().on("click",function(){jQuery(this).parents("form.cart").removeClass("open"),jQuery(this).parents("form.cart").hasClass("open-btn-all")&&jQuery(this).parents("form.cart").removeClass("open-btn-all"),jQuery(this).parents("form.cart").hasClass("open-btn-buynow")&&jQuery(this).parents("form.cart").removeClass("open-btn-buynow"),jQuery(this).parents("form.cart").hasClass("open-btn-addtocart")&&jQuery(this).parents("form.cart").removeClass("open-btn-addtocart")})}_initCloseAttributeMobileWrapper(){let e=jQuery("#mobile-close-infor-wrapper");0===e.length||e.off().on("click",function(){jQuery(this).parent().find("form.cart").removeClass("open"),jQuery(this).parent().find("form.cart").hasClass("open-btn-all")&&jQuery(this).parent().find("form.cart").removeClass("open-btn-all"),jQuery(this).parent().find("form.cart").hasClass("open-btn-buynow")&&jQuery(this).parent().find("form.cart").removeClass("open-btn-buynow"),jQuery(this).parent().find("form.cart").hasClass("open-btn-addtocart")&&jQuery(this).parent().find("form.cart").removeClass("open-btn-addtocart")})}}jQuery(window).on("resize",()=>{var e=new SingleProduct;e._initMoveTopSingle(!0)});class ProductTabs{constructor(){"undefined"==typeof zota_settings||(this._initProductTabsAjax(),this._initProductTabs())}_initProductTabs(){jQuery(".tbay-element-product-tabs").each(function(e,t){var a=jQuery(t);a.hasClass("ajax-active")||a.data("isInitialized")||(a.data("isInitialized",!0),a.find("a[data-toggle=\"tab\"]").on("shown.bs.tab",function(t){jQuery(document.body).trigger("tbay_carousel_slick")}))})}_initProductTabsAjax(){var t=!1;jQuery(".tbay-element-product-tabs.ajax-active").each(function(e,a){var o=jQuery(a);o.find(".product-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=jQuery(this),o=e.parent().parent().data("atts"),i=e.data("value"),r=e.attr("href");t||jQuery(r).hasClass("active-content")||(t=!0,jQuery.ajax({url:zota_settings.ajaxurl,data:{atts:o,value:i,action:"zota_get_products_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(e){jQuery(r).parent().addClass("load-ajax")},success:function(e){jQuery(r).html(e.html),jQuery(r).parent().find(".current").removeClass("current"),jQuery(r).parent().removeClass("load-ajax"),jQuery(r).addClass("active-content"),jQuery(r).addClass("current"),jQuery(document.body).trigger("tbay_carousel_slick"),jQuery(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}class ProductCategoriesTabs{constructor(){"undefined"==typeof zota_settings||(this._initProductCategoriesTabsAjax(),this._initProductCategoriesTabs())}_initProductCategoriesTabs(){jQuery(".tbay-element-product-categories-tabs").each(function(e,t){var a=jQuery(t);a.hasClass("ajax-active")||a.data("isInitialized")||(a.data("isInitialized",!0),a.find("a[data-toggle=\"tab\"]").on("shown.bs.tab",function(t){jQuery(document.body).trigger("tbay_carousel_slick")}))})}_initProductCategoriesTabsAjax(){var t=!1;jQuery(".tbay-element-product-categories-tabs.ajax-active").each(function(e,a){var o=jQuery(a);o.find(".product-categories-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=jQuery(this),o=e.parent().parent().data("atts"),i=e.data("value"),r=e.attr("href");t||jQuery(r).hasClass("active-content")||(t=!0,jQuery.ajax({url:zota_settings.ajaxurl,data:{atts:o,value:i,action:"zota_get_products_categories_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(e){jQuery(r).parent().addClass("load-ajax")},success:function(e){jQuery(r).html(e.html),jQuery(r).parent().find(".current").removeClass("current"),jQuery(r).parent().removeClass("load-ajax"),jQuery(r).addClass("active-content"),jQuery(r).addClass("current"),jQuery(document.body).trigger("tbay_carousel_slick"),jQuery(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}jQuery(document).ready(()=>{var e=new ProductItem;e._initSwatches(),e._initQuantityMode(),jQuery(document.body).trigger("tawcvs_initialized"),new AjaxCart,new WishList,new Cart,new Checkout,new WooCommon,new LoadMore,new ModalVideo("#productvideo"),new QuickView,new DisplayMode,new ShopProduct,new AjaxFilter,new SingleProduct,new ProductTabs,new ProductCategoriesTabs}),setTimeout(function(){jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded removed_from_cart",function(){new ProductItem().initOnChangeQuantity(()=>{})})},30),jQuery(document).ready(function(e){var t=new SingleProduct;t._initFeatureVideo()}),setTimeout(function(){jQuery(document.body).on("tbay_ajax_tabs_products",()=>{var e=new ProductItem;e.initAddButtonQuantity(),e._initQuantityMode()})},2e3);var AddButtonQuantity=function(e,t){var a=new ProductItem;a.initAddButtonQuantity()},AjaxProductTabs=function(e,t){new ProductTabs,new ProductCategoriesTabs};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof zota_settings&&elementorFrontend.isEditMode()&&Array.isArray(zota_settings.elements_ready.products)&&jQuery.each(zota_settings.elements_ready.products,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/zota-"+t+".default",AddButtonQuantity)})}),jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof zota_settings&&elementorFrontend.isEditMode()&&Array.isArray(zota_settings.elements_ready.ajax_tabs)&&jQuery.each(zota_settings.elements_ready.ajax_tabs,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+t+".default",AjaxProductTabs)})});
