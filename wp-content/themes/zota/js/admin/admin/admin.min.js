"use strict";(function(a){function b(){var a=this;a.init()}b.prototype={init:function(){var a=this;a.productSizeGuide(),a.Checkbox(),a.Datepicker()},productSizeGuide:function(){var b,c=a("#product_size_guide_image"),d=a("#product_size_guide_images_container").find("ul.product_size_guide_images");a(".add_product_size_guide_images").on("click","a",function(e){var f=a(this);return e.preventDefault(),b?void b.open():void(b=wp.media.frames.product_gallery=wp.media({title:f.data("choose"),button:{text:f.data("update")},states:[new wp.media.controller.Library({title:f.data("choose"),filterable:"all",multiple:!1})]}),b.on("select",function(){var a=b.state().get("selection"),e=c.val();a.map(function(a){if(a=a.toJSON(),a.id){e=e?e+","+a.id:a.id;var b=a.sizes&&a.sizes.thumbnail?a.sizes.thumbnail.url:a.url;d.find("li.image").remove(),d.append("<li class=\"image\" data-attachment_id=\""+a.id+"\"><img src=\""+b+"\" /><ul class=\"actions\"><li><a href=\"#\" class=\"delete\" title=\""+f.data("delete")+"\">"+f.data("text")+"</a></li></ul></li>")}}),c.val(e)}),b.open())}),"undefined"!=typeof d.sortable&&d.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_size_guide_images_container").find("ul li.image").css("cursor","default").each(function(){var c=a(this).attr("data-attachment_id");b=b+c+","}),c.val(b)}}),a("#product_size_guide_images_container").on("click","a.delete",function(){a(this).closest("li.image").remove();var b="";return a("#product_size_guide_images_container").find("ul li.image").css("cursor","default").each(function(){var c=a(this).attr("data-attachment_id");b=b+c+","}),c.val(b),a("#tiptip_holder").removeAttr("style"),a("#tiptip_arrow").removeAttr("style"),!1})},Checkbox:function(){a("body").on("click",".tbay-checkbox",function(){jQuery("."+this.id).toggle()}),a(".tbay-wpcolorpicker").each(function(){a(this).wpColorPicker()})},Datepicker:function(){let b=a(".tbay-datepicker_field");0==b.length||b.datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1})}},a.AdminModule=b.prototype,jQuery(document).ready(function(){new b})})(jQuery);
