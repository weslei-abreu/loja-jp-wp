(()=>{var t={465:()=>{var t;(t=jQuery)(document).ready((function(){t(".dokan-shipping-location-wrapper").on("change",".dps_country_selection",(function(){var a=t(this),e={country_id:a.find(":selected").val(),action:"dps_select_state_by_country"};""==a.val()||"everywhere"==a.val()?a.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(""):t.post(dokan.ajaxurl,e,(function(t){t.success&&a.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(t.data)}))})),t(".dps-main-wrapper").on("click","a.dps-shipping-add",(function(a){a.preventDefault();var e=t("#dps-shipping-hidden-lcoation-content"),n=t(e).first().clone().appendTo(t(".dokan-shipping-location-wrapper")).show();t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content").first().find("a.dps-shipping-remove").show(),t(".tips").tooltip(),n.removeAttr("id"),n.find("input,select").val(""),n.find("a.dps-shipping-remove").show()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-shipping-remove",(function(a){a.preventDefault(),t(this).closest(".dps-shipping-location-content").remove(),$dpsElm=t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content"),1==$dpsElm.length&&$dpsElm.first().find("a.dps-shipping-remove").hide()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-add",(function(a){a.preventDefault();var e=t(this).closest("tr").first().clone().appendTo(t(this).closest("table.dps-shipping-states"));e.find("input,select").val(""),e.find("a.dps-remove").show(),t(".tips").tooltip()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-remove",(function(a){a.preventDefault(),1==t(this).closest("table.dps-shipping-states").find("tr").length&&t(this).closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show(),t(this).closest("tr").remove()})),t(".dokan-shipping-location-wrapper").on("change keyup",".dps_state_selection",(function(){var a=t(this);""==a.val()||"-1"==a.val()?a.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show():a.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").hide()})),t(".dokan-shipping-location-wrapper .dps_state_selection").trigger("change"),t(".dokan-shipping-location-wrapper .dps_state_selection").trigger("keyup");var a=t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content");1==a.length&&a.first().find("a.dps-shipping-remove").hide()}))},1990:()=>{var t,a;t=jQuery,(a={init:function(){let a={d:"dd",D:"D",j:"d",l:"DD",F:"MM",m:"mm",M:"M",n:"m",o:"yy",Y:"yy",y:"y"},e=0,n="",i="";for(e=0;e<dokan.i18n_date_format.length;e++)n=dokan.i18n_date_format[e],i+=n in a?a[n]:n;const o=t(".shipped_status_date");o.datepicker({dateFormat:i,minDate:new Date(o.data("ordered-date"))}),t("body").on("change","#shipping_status_provider",(function(a){a.preventDefault(),"sp-other"==t(this).val()?t(".tracking-status-other-url").show():t(".tracking-status-other-url").hide()})),t("body").on("change",".update_shipping_provider",(function(a){a.preventDefault();var e=t(this).data("shipment_id");"sp-other"==t(this).val()?t(".tracking-status-other-area-"+e).show():t(".tracking-status-other-area-"+e).hide()})),t("body").on("click","#create-tracking-status-action",(function(a){a.preventDefault(),t(this).hide(),t("#dokan-order-shipping-status-tracking").show(),t(".no-shipment-found-desc").hide()})),t("body").on("click","#cancel-tracking-status-details",(function(a){a.preventDefault(),t("#dokan-order-shipping-status-tracking").hide(),t("#create-tracking-status-action").show(),t(".no-shipment-found-desc").show()})),t("body").on("click",".shipment-notes-details-tab-toggle",(function(a){a.preventDefault();var e=t(this).data("shipment_id");t(".shipment-list-notes-inner-area"+e).toggle(),t(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")})),t("body").on("click",".shipment-item-details-tab-toggle",(function(){var a=t(this).data("shipment_id");return t(".shipment_body_"+a).toggle(),t(".shipment_footer_"+a).toggle(),t(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2"),!1})),t("body").on("click",".shipment_order_item_select",(function(){var a=t(this).data("order_item_id");t(".shipping_order_item_qty_"+a).toggle()})),t("body").on("click","#add-tracking-status-details",this.insertShippingStatusTrackingInfo),t("body").on("click","#update-tracking-status-details",this.updateShippingStatusTrackingInfo),t("body").on("click",".shippments-statuses .customer-status",this.markReceived),t("#add-shipping-tracking-status-form").on("change","#shipment-status",this.handleShipmentNotify),t(".shipping-status-tracking-shippments-inner").on("change","select.dokan-form-control",this.handleUpdateShipmentNotify),t("#dokan-order-shipping-status-tracking tr.printful-product .quantity").each(this.loadOverlayForPrintfulProductShipment)},insertShippingStatusTrackingInfo:function(a){a.preventDefault(),t("#add-tracking-status-details").prop("disabled",!0),t("#shipment-update-response-area").html(""),t("#shipment-update-response-area").removeClass("dokan-alert dokan-alert-success dokan-alert-warning");var e,n={};t(".shipping-tracking input.shipping_order_item_qty").each((function(a,e){if(t(e).closest("tr").data("shipping_order_item_id")){var i=t(e).closest("tr").data("shipping_order_item_id");e.value&&t("#shipment_order_item_select_"+i).is(":checked")&&(n[i]=e.value)}})),e=t('input[name="shipping_order_item_id[]"]').map((function(){if(this.value&&t("#shipment_order_item_select_"+this.value).is(":checked"))return this.value})).get();var i={shipping_provider:t("#shipping_status_provider").val(),shipping_number:t("#tracking_status_number").val(),shipped_date:t("#shipped_status_date").val(),shipped_status:t("#shipment-status").val(),is_notify:t("#shipped_status_is_notify").is(":checked")?t("#shipped_status_is_notify").val():"off",action:t("#action").val(),post_id:t("#post-id").val(),security:t("#security").val(),other_provider:t("#tracking_status_other_provider").val(),other_p_url:t("#tracking_status_other_p_url").val(),shipment_comments:t("#tracking_status_comments").val(),item_id:JSON.stringify(e,null,""),item_qty:JSON.stringify(n,null,"")};return t("#dokan-order-shipping-status-tracking").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),t.post(dokan.ajaxurl,i,(function(a){t("#shipment-update-response-area").addClass("dokan-alert "+(a.success?"dokan-alert-success":"dokan-alert-warning")).html(a.data),t("#dokan-order-shipping-status-tracking").unblock(),a.success&&location.reload(),t("#add-tracking-status-details").prop("disabled",!1)})),!1},updateShippingStatusTrackingInfo:function(a){a.preventDefault();var e=t(this).data("shipment_id");t("#shipment-update-response-area_"+e).html("");var n={shipped_status:t("#update_shipping_status_"+e).val(),shipping_provider:t("#update_shipping_provider_"+e).val(),shipped_status_date:t("#shipped_status_date_"+e).val(),tracking_status_number:t("#tracking_status_number_"+e).val(),status_other_provider:t("#tracking_status_other_provider_"+e).val(),status_other_p_url:t("#tracking_status_other_p_url_"+e).val(),shipment_comments:t("#tracking_status_comments_"+e).val(),is_notify:t("#shipment_update_is_notify_"+e).is(":checked")?t("#shipment_update_is_notify_"+e).val():"off",action:"dokan_update_shipping_status_tracking_info",shipment_id:e,post_id:new URLSearchParams(document.location.search).get("order_id"),security:t("#security_update").val()};return t(".shipment_id_"+e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),t.post(dokan.ajaxurl,n,(function(a){t(".shipment_id_"+e).unblock(),a&&(t(".status_label_"+e).html(a),t("#tracking_status_comments_"+e).val(""),t("#shipment-update-response-area_"+e).html(dokan.shipment_status_update_msg),setTimeout((function(){t("#shipment-update-response-area_"+e).html("")}),3e3),"Delivered"!=a&&"Cancelled"!=a||location.reload())})),!1},markReceived:async function(){const a=await dokan_sweetalert(dokan.mark_received.confirmation_msg,{action:"confirm",icon:"warning"});if(a?.isConfirmed){const a=t(this);order_id=a.data("order_id"),shipment_id=a.data("shipment_id"),shipment_handle=t(".shipment_id_"+shipment_id);const e={order_id,shipment_id,nonce:dokan.mark_received.nonce,action:"dokan_order_mark_as_received"};shipment_handle.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),t.post(dokan.ajaxurl,e,(function(e){e.success&&(a.siblings(".shippments-tracking-status").find("strong.ss_delivered").text(dokan.mark_received.status_label),e?.data?.is_completely_received&&t("body .woocommerce-MyAccount-content").find("p mark.order-status").text(dokan.mark_received.complete_status_label),a.remove(),shipment_handle.unblock())}))}},handleShipmentNotify:function(e){const n=t(this).closest("#add-shipping-tracking-status-form"),i=n.find(".shipped-status-is-notify #shipped_status_is_notify"),o=n.find(".shipped-status-is-notify");a.triggerShipmentNotification(e.target.value,i,o)},handleUpdateShipmentNotify:function(e){const n=t(this).closest(".shipping-status-tracking-shippments-inner"),i=n.find(".shipped-status-update-is-notify input[type='checkbox']"),o=n.find(".shipped-status-update-is-notify");a.triggerShipmentNotification(e.target.value,i,o)},triggerShipmentNotification:function(t,a,e){"ss_delivered"===t?(a.prop("checked",!0).prop("disabled",!0),e.css("opacity","0.5")):(a.prop("checked",!1).prop("disabled",!1),e.css("opacity","1"))},loadOverlayForPrintfulProductShipment:function(){t(this).append(`<svg class='tips' width='40px' title='${dokan.printful_shipment_overlay_info}' version='1.0' id='Layer_1' x='0px' y='0px' viewBox='110 0 715 534.3' style='enable-background: new 0 0 715 534.3; margin-top: 0.5rem; cursor: pointer' xml:space='preserve'>\n                    <style type='text/css'>\n                        .st0{fill:#231F20;}\n                        .st1{fill:#F2C994;}\n                        .st2{fill:#ED4642;}\n                        .st3{fill:#17BCB5;}\n                        .st4{fill:#DF392F;}\n                        .st5{fill:#16342F;}\n                        .st6{fill:#15291A;}\n                    </style>\n                    <polygon class='st1' points='120.3,320.6 245,106.6 369.6,320.6 '/>\n                    <polygon class='st2' points='232.9,320.6 357.5,106.6 482.1,320.6 '/>\n                    <polygon class='st3' points='345.4,320.6 470,106.6 594.7,320.6 '/>\n                    <polygon class='st4' points='232.9,320.6 369.6,320.6 300.8,203.4 '/>\n                    <polygon class='st5' points='345.4,320.6 482.1,320.6 414.2,203.4 '/>\n                    <polygon class='st6' points='345.4,320.6 369.6,320.6 357.5,300.1 '/>\n                </svg>`)}}).init()},3676:()=>{var t,a;t=jQuery,a={init:function(){t("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),t("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),t("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),t("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),t(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){t(".dokan-check-col").prop("checked",t(this).prop("checked"))},setCommentStatus:function(a){a.preventDefault();var e=t(this),n=e.data("comment_id"),i=e.data("cmt_status"),o=e.data("page_status"),s=e.data("post_type"),r=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:n,comment_status:i,page_status:o,post_type:s,curr_page:r,nonce:dokan.nonce};t.post(dokan.ajaxurl,c,(function(a){1!==o||1!==i&&0!==i?d.fadeOut((function(){t(this).remove()})):d.fadeOut((function(){d.replaceWith(a.data.content).fadeIn()})),null==a.data.pending&&(a.data.pending=0),null==a.data.spam&&(a.data.spam=0),null==a.data.trash&&(a.data.trash=0),t(".comments-menu-pending").text(a.data.pending),t(".comments-menu-spam").text(a.data.spam),t(".comments-menu-trash").text(a.data.trash)}))},populateForm:function(a){a.preventDefault();var e=t(this).closest("tr");if(e.next().hasClass("dokan-comment-edit-row"))e.next().remove();else{var n=t("#dokan-edit-comment-row").html(),i={author:e.find(".dokan-cmt-hid-author").text(),email:e.find(".dokan-cmt-hid-email").text(),url:e.find(".dokan-cmt-hid-url").text(),body:e.find(".dokan-cmt-hid-body").text(),id:e.find(".dokan-cmt-hid-id").text(),status:e.find(".dokan-cmt-hid-status").text()};e.after(_.template(n,i))}},closeForm:function(a){a.preventDefault(),t(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(a){a.preventDefault();var e=t(this).closest("tr.dokan-comment-edit-row"),n={action:"dokan_update_comment",comment_id:e.find("input.dokan-cmt-id").val(),content:e.find("textarea.dokan-cmt-body").val(),author:e.find("input.dokan-cmt-author").val(),email:e.find("input.dokan-cmt-author-email").val(),url:e.find("input.dokan-cmt-author-url").val(),status:e.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:e.find("input.dokan-cmt-post-type").val()};t.post(dokan.ajaxurl,n,(function(t){!0===t.success?(e.prev().replaceWith(t.data),e.remove()):alert(t.data)}))}},t((function(){a.init()}))},6121:()=>{(t=>{let a={scheduleEnablerInput:"#dokan-schedule-enabler-switch",scheduleEnabler:t("#dokan-schedule-enabler-switch"),scheduleEditButton:t("#dokan-withdraw-display-schedule-popup"),switchContainer:t(".dokan-switch-container"),init(){this.scheduleEnabler.is(":checked")?this.enableEditScheduleButton():this.disableEditScheduleButton(),this.eventHandlers()},disableEditScheduleButton(){this.scheduleEditButton.prop("disabled",!0)},enableEditScheduleButton(){this.scheduleEditButton.prop("disabled",!1)},setSwitchOnEnabledState(){this.scheduleEnabler.prop("checked",!0)},removeSchedule(){let a=this,e=t("#dokan-schedule-enabler-switch").attr("data-security");this.switchContainer.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(dokan.ajaxurl,{action:"dokan_handle_withdraw_schedule_remove",security:e},(async t=>{t.success?await dokan_sweetalert(t.data,{position:"bottom-end",toast:!0,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:t=>{setTimeout((()=>{a.switchContainer.unblock(),window.location.reload()}),2e3)}}):(this.setSwitchOnEnabledState(),dokan_sweetalert("",{icon:"error",html:t.data}),this.switchContainer.unblock())}))},eventHandlers(){this.switchContainer.on("change",a.scheduleEnablerInput,(function(){this.checked?a.enableEditScheduleButton():(a.disableEditScheduleButton(),a.removeSchedule())}))}};a.init()})(jQuery)},6176:()=>{var t;(t=jQuery)(document).ready((function(){t(".dokan-announcement-wrapper").on("click","a.remove_announcement",(async function(a){a.preventDefault();const e=await dokan_sweetalert(dokan.delete_confirm,{action:"confirm",icon:"warning"});if("undefined"!==e&&e.isConfirmed){var n=t(this),i={action:"dokan_announcement_remove_row",row_id:n.data("notice_row"),_wpnonce:dokan.nonce};n.closest(".dokan-announcement-wrapper-item").append('<span class="dokan-loading" style="position:absolute;top:2px; right:15px"> </span>');var o=t(".dokan-announcement-wrapper-item").length;t.post(dokan.ajaxurl,i,(function(a){a.success?(n.closest(".dokan-announcement-wrapper-item").find("span.dokan-loading").remove(),n.closest(".dokan-announcement-wrapper-item").fadeOut((function(){t(this).remove(),1==o&&t(".dokan-announcement-wrapper").html(a.data)}))):dokan_sweetalert(dokan.wrong_message,{icon:"error"})}))}}))}))},6354:()=>{var t,a;t=jQuery,a={init:function(){t("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),t(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){t(".dokan-check-col").prop("checked",t(this).prop("checked"))},setCommentStatus:function(a){a.preventDefault();var e=t(this),n=e.data("comment_id"),i=e.data("cmt_status"),o=e.data("page_status"),s=e.data("post_type"),r=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:n,comment_status:i,page_status:o,post_type:s,curr_page:r,nonce:dokan.nonce};t.post(dokan.ajaxurl,c,(function(a){0==a.success?dokan_sweetalert(a.data,{icon:"error"}):(1!==o||1!==i&&0!==i?d.fadeOut((function(){t(this).remove()})):d.fadeOut((function(){d.replaceWith(a.data.content).fadeIn()})),null==a.data.pending&&(a.data.pending=0),null==a.data.spam&&(a.data.spam=0),null==a.data.trash&&(a.data.trash=0),null==a.data.approved&&(a.data.approved=0),t(".comments-menu-approved").text(a.data.approved),t(".comments-menu-pending").text(a.data.pending),t(".comments-menu-spam").text(a.data.spam),t(".comments-menu-trash").text(a.data.trash))}))}},t((function(){a.init()}))},6760:()=>{jQuery((function(t){var a={init:function(){t("#dokan-variable-product-options").on("change","input.variable_is_downloadable",this.variable_is_downloadable).on("change","input.variable_is_virtual",this.variable_is_virtual).on("change","input.variable_manage_stock",this.variable_manage_stock).on("click",".expand_all",this.expand_all).on("click",".close_all",this.close_all).on("click",".dokan-product-variation-itmes .sort",this.set_menu_order).on("reload",this.reload),t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),t(".dokan-product-variation-wrapper").on("dokan_variations_loaded",this.variations_loaded),t(document.body).on("dokan_variations_added",this.variation_added),this.variation_toggle_init()},reload:function(){e.load_variations(1),n.set_paginav(0)},variable_is_downloadable:function(){t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").hide(),t(this).is(":checked")&&t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").show()},variable_is_virtual:function(){t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").show(),t(this).is(":checked")&&t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").hide()},variable_manage_stock:function(){t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").slideUp("fast"),t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_manage_stock").slideDown("fast"),t(this).is(":checked")&&(t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").slideDown("fast"),t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_manage_stock").slideUp("fast"))},expand_all:function(a){return t(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").show(),!1},close_all:function(a){return t(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").hide(),!1},variation_toggle_init:function(){t(".dokan-attribute-variation-options").on("click","h3.variation-topbar-heading",(function(a){a.preventDefault();var e=t(this);e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){t(this).is(":visible")?e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")}))})),t(".dokan-attribute-variation-options").on("click",".toggle-variation-content",(function(a){a.preventDefault();var e=t(this);return e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){t(this).is(":visible")?e.removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")})),!1}))},formatMoney:t=>accounting.formatMoney(t,{symbol:dokan.currency_format_symbol,decimal:dokan.currency_format_decimal_sep,thousand:dokan.currency_format_thousand_sep,precision:dokan.currency_format_num_decimals,format:dokan.currency_format}),unformatMoney:t=>accounting.unformat(t,dokan.mon_decimal_point),variations_loaded:function(e,n){n=n||!1;var i=t(".dokan-attribute-variation-options");n||(t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock",i).trigger("change"),t(".dokan-product-variation-itmes",i).each((function(a,e){var n=t(e),i=t(".sale_price_dates_from",n).val(),o=t(".sale_price_dates_to",n).val();""===i&&""===o||t("a.sale_schedule",n).trigger("click")})),t(".dokan-variations-container .variation-needs-update",i).removeClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes",i).attr("disabled","disabled")),t(".tips").tooltip();let o=function(e){let n=e.closest(".variable_pricing").find("span.vendor-price").text();n=a.unformatMoney(n),n<0?(e.closest(".variable_pricing").find(".save-variation-changes").attr("disabled","disabled"),e.closest(".variable_pricing").find(".dokan-product-less-price-alert").removeClass("dokan-hide"),t("input[type=submit]").attr("disabled","disabled")):(e.closest(".variable_pricing").find(".dokan-product-less-price-alert").addClass("dokan-hide"),e.closest(".variable_pricing").find(".save-variation-changes").removeAttr("disabled"),t("input[type=submit]").removeAttr("disabled"))},s=function(e){var n=0,i=0,s=t("#dokan-edit-product-id").val();-1!==t(e).attr("name").indexOf("variable_sale_price")?(n=t(e).val(),i=t(`input.dokan-product-regular-price-variable[name="${t(e).attr("name").replace("variable_sale_price","variable_regular_price")}"]`).val()):(i=t(e).val(),n=t(`input.dokan-product-sales-price-variable[name="${t(e).attr("name").replace("variable_regular_price","variable_sale_price")}"]`).val());var r=t(e),d=r.closest(".variable_pricing").find("span.vendor-price");let c=t('input[name="chosen_product_cat[]"]').map((function(){return t(this).val()})).get(),l=n||i;d.html("Calculating"),jQuery.ajax({url:window.dokan.rest.root+"dokan/v1/commission",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",window.dokan.rest.nonce)},type:"GET",data:{product_id:s,amount:l?a.unformatMoney(l):0,category_ids:c,context:"seller"}}).done((t=>{isNaN(t)||(d.html(a.formatMoney(t)),o(r)),"function"==typeof callback&&callback()})),o(r)};wp.hooks.addAction("dokan_selected_multistep_category","dokan-get-variable-product-earning-suggestion",(function(){let a=t("select#product_type").val();"simple"!==a&&"external"!==a&&"grouped"!==a&&"subscription"!==a&&t("input.dokan-subscription-product-variable, input.dokan-product-variable").each((function(){let a=t(this);s(a)}))})),t("input.dokan-product-regular-price-variable, input.dokan-product-sales-price-variable").on("keyup",_.debounce((a=>{let e=t(a.currentTarget);s(e)}),750)),t(".dokan-start-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){let e=new Date(a);e.setDate(e.getDate()+1),t(".dokan-end-date").datepicker("option",{minDate:e})}}),t(".dokan-end-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){let e=new Date(a);e.setDate(e.getDate()-1),t("dokan-start-date").datepicker("option",{maxDate:e})}}),t(".dokan-variations-container",i).sortable({items:".dokan-product-variation-itmes",cursor:"move",axis:"y",handle:".sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,stop:function(){a.variation_row_indexes()}})},variation_added:function(t,e){1===e&&a.variations_loaded(null,!0)},set_menu_order:async function(a){a.preventDefault();var n=t(this).closest(".dokan-product-variation-itmes").find(".variation_menu_order"),i=(await dokan_sweetalert(dokan.i18n_enter_menu_order,{action:"prompt",input:"number",inputValue:n.val()})).value;null!=i&&(n.val(parseInt(i,10)).trigger("change"),e.save_variations())},variation_row_indexes:function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10),n=parseInt((e-1)*dokan.variations_per_page,10);t(".dokan-variations-container .dokan-product-variation-itmes").each((function(a,e){t(".variation_menu_order",e).val(parseInt(t(e).index(".dokan-variations-container .dokan-product-variation-itmes"),10)+1+n).trigger("change")}))}},e={init:function(){this.load_variations(),this.initial_load(),t("#dokan-variable-product-options").on("click","button.save-variation-changes",this.save_variations).on("click","button.cancel-variation-changes",this.cancel_variations).on("click",".remove_variation",this.remove_variation),t(document.body).on("change","#dokan-variable-product-options .dokan-variations-container :input",this.input_changed).on("change",".dokan-variations-defaults select",this.defaults_changed),t("form.dokan-product-edit-form").on("submit",this.save_on_submit),t("#dokan-variable-product-options").on("click","a.do_variation_action",this.do_variation_action)},check_for_changes:async function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update");if(0<a.length){const t=await dokan_sweetalert(dokan.i18n_edited_variations,{action:"confirm",icon:"warning"});if("undefined"===t||!t.isConfirmed)return a.removeClass("variation-needs-update"),!1;e.save_changes()}return!0},block:function(){t(".dokan-product-variation-wrapper").block({message:null,fadeIn:100,fadeOut:2e3,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){t(".dokan-product-variation-wrapper").unblock()},initial_load:function(){0===t("#dokan-variable-product-options").find(".dokan-variations-container .dokan-product-variation-itmes").length&&n.go_to_page()},load_variations:function(a,n){a=a||1,n=n||dokan.variations_per_page;var i=t("#dokan-variable-product-options").find(".dokan-variations-container");e.block(),t.ajax({url:dokan.ajaxurl,data:{action:"dokan_load_variations",security:dokan.load_variations_nonce,product_id:t("#dokan-edit-product-id").val(),attributes:i.data("attributes"),page:a,per_page:n},type:"POST",success:function(n){i.empty().append(n).attr("data-page",a),t(".dokan-product-variation-wrapper").trigger("dokan_variations_loaded"),e.unblock()}})},get_variations_fields:function(a){var e=t(":input",a).serializeJSON();return t(".dokan-variations-defaults select").each((function(a,n){var i=t(n);e[i.attr("name")]=i.val()})),e},save_changes:function(a){var n=t("#dokan-variable-product-options").find(".dokan-variations-container"),i=t(".variation-needs-update",n),o={};0<i.length&&(e.block(),(o=e.get_variations_fields(i)).action="dokan_save_variations",o.security=dokan.save_variations_nonce,o.product_id=t("#dokan-edit-product-id").val(),o.product_type=t("#product_type").val(),t.ajax({url:dokan.ajaxurl,data:o,type:"POST",success:function(n){i.removeClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").attr("disabled","disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_saved"),"function"==typeof a&&a(n),e.unblock()}}))},save_variations:function(){return t("#dokan-variable-product-options").trigger("dokan_variations_save_variations_button"),e.save_changes((function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),i=e.attr("data-page");t("#dokan-variable-product-options").find("#dokan_errors").remove(),a&&e.before(a),t(".dokan-variations-defaults select").each((function(){t(this).attr("data-current",t(this).val())})),n.go_to_page(i)})),!1},save_on_submit:function(a){0<t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").length&&(a.preventDefault(),t("#dokan-variable-product-options").trigger("dokan_variations_save_variations_on_submit"),e.save_changes(e.save_on_submit_done))},save_on_submit_done:function(){t("form.dokan-product-edit-form").submit()},cancel_variations:function(){var a=parseInt(t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-page"),10);return t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").removeClass("variation-needs-update"),t(".dokan-variations-defaults select").each((function(){t(this).val(t(this).attr("data-current"))})),n.go_to_page(a),!1},add_variation:function(){e.block();var a={action:"dokan_add_variation",post_id:t("#dokan-edit-product-id").val(),loop:t(".dokan-product-variation-itmes").length,security:dokan.add_variation_nonce};return t.post(dokan.ajaxurl,a,(function(a){var n=t(a);n.addClass("variation-needs-update"),t("#dokan-variable-product-options").find(".dokan-variations-container").prepend(n),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_added",1),t("#product_type").val(),t("input#_virtual:checked").length,t("input#_downloadable:checked").length,t("select#product_type").trigger("change"),t("input.variable_is_virtual").trigger("change"),e.unblock()})),!1},remove_variation:async function(a){a.preventDefault(),e.check_for_changes();const i=await dokan_sweetalert(dokan.i18n_remove_variation,{action:"confirm",icon:"warning"});if("undefined"!==i&&i.isConfirmed){var o=t(this).attr("rel"),s=[],r={action:"dokan_remove_variation"};e.block(),0<o?(s.push(o),r.variation_ids=s,r.security=dokan.delete_variations_nonce,t.post(dokan.ajaxurl,r,(function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10),i=Math.ceil((parseInt(a.attr("data-total"),10)-1)/dokan.variations_per_page),o=1;t(".dokan-product-variation-wrapper").trigger("dokan_variations_removed"),e===i||e<=i?o=e:e>i&&0!==i&&(o=i),n.go_to_page(o,-1)}))):e.unblock()}return!1},link_all_variations:async function(){e.check_for_changes();const a=await dokan_sweetalert(dokan.i18n_link_all_variations,{action:"confirm",icon:"warning"});if("undefined"!==a&&a.isConfirmed){e.block();var i={action:"dokan_link_all_variations",post_id:t("#dokan-edit-product-id").val(),security:dokan.link_variation_nonce};t.post(dokan.ajaxurl,i,(function(a){var i=parseInt(a,10);1===i||0===i||i>1?dokan_sweetalert(i+" "+dokan.i18n_variation_added,{icon:"info"}):dokan_sweetalert(dokan.i18n_no_variations_added,{icon:"info"}),i>0?(n.go_to_page(1,i),t(".dokan-product-variation-wrapper").trigger("dokan_variations_added",i)):e.unblock()}))}return!1},input_changed:function(){t(this).closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed")},defaults_changed:function(){t(this).closest("#dokan-variable-product-options").find(".dokan-product-variation-itmes:first").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t("#dokan-variable-product-options").trigger("dokan_variations_defaults_changed")},do_variation_action:async function(){var a,i=t("select.variation-actions").val(),o={},s=0,r=t(".variable_product_wise_activation");switch(i){case"add_variation":return void e.add_variation();case"link_all_variations":return void e.link_all_variations();case"delete_all":const n=await dokan_sweetalert(dokan.i18n_delete_all_variations,{action:"confirm",icon:"warning"});if("undefined"!==n&&n.isConfirmed){const a=await dokan_sweetalert(dokan.i18n_last_warning,{action:"confirm",icon:"warning"});"undefined"!==a&&a.isConfirmed&&(o.allowed=!0,s=-1*parseInt(t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total"),10))}break;case"variable_regular_price_increase":case"variable_regular_price_decrease":case"variable_sale_price_increase":case"variable_sale_price_decrease":null!=(a=(await dokan_sweetalert(dokan.i18n_enter_a_value_fixed_or_percent,{action:"prompt",input:"text"})).value)&&(a.indexOf("%")>=0?o.value=accounting.unformat(a.replace(/\%/,""),dokan_refund.mon_decimal_point)+"%":o.value=accounting.unformat(a,dokan_refund.mon_decimal_point));break;case"variable_regular_price":case"variable_sale_price":case"variable_stock":case"variable_weight":case"variable_length":case"variable_width":case"variable_height":case"variable_download_limit":case"variable_download_expiry":null!=(a=(await dokan_sweetalert(dokan.i18n_enter_a_value,{action:"prompt",input:"text"})).value)&&(o.value=a);break;case"variable_sale_schedule":let d=await dokan_sweetalert(dokan.i18n_scheduled_sale_start,{action:"prompt",input:"text"});o.date_from=d.value,d=await dokan_sweetalert(dokan.i18n_scheduled_sale_end,{action:"prompt",input:"text"}),o.date_to=d.value,null===o.date_from&&(o.date_from=!1),null===o.date_to&&(o.date_to=!1);break;case"variable_min_quantity":case"variable_max_quantity":case"variable_min_amount":case"variable_max_amount":return null==(a=(await dokan_sweetalert(dokan.i18n_enter_a_value,{action:"prompt",input:"text"})).value)||""===a||a<1?(r.prop("checked",!1),dokan_sweetalert(dokan.dokan_i18n_negative_value_not_approved,{icon:"error"}),!1):(t("."+i).val(a),r.prop("checked",!0),dokan_sweetalert(dokan.dokan_i18n_value_set_successfully,{icon:"success"}),!1);case"min_max_deactivate_for_all":return r.prop("checked",!1),dokan_sweetalert(dokan.dokan_i18n_deactivated_successfully,{icon:"success"}),!1;default:t("select.variation-actions").trigger(i),o=t("select.variation-actions").triggerHandler(i+"_ajax_data",o)}"delete_all"===i&&o.allowed?t("#dokan-variable-product-options").find(".variation-needs-update").removeClass("variation-needs-update"):e.check_for_changes(),e.block(),t.ajax({url:dokan.ajaxurl,data:{action:"dokan_bulk_edit_variations",security:dokan.bulk_edit_variations_nonce,product_id:t("#dokan-edit-product-id").val(),product_type:t("#product_type").val(),bulk_action:i,data:o},type:"POST",success:function(){n.go_to_page(1,s)}})}},n={init:function(){t(document.body).on("dokan_variations_added",this.update_single_quantity).on("change",".dokan-variations-pagenav .page-selector",this.page_selector).on("click",".dokan-variations-pagenav .first-page",this.first_page).on("click",".dokan-variations-pagenav .prev-page",this.prev_page).on("click",".dokan-variations-pagenav .next-page",this.next_page).on("click",".dokan-variations-pagenav .last-page",this.last_page)},update_variations_count:function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),n=parseInt(e.attr("data-total"),10)+a,i=t(".dokan-variations-pagenav .displaying-num");return e.attr("data-total",n),1===n?i.text(dokan.i18n_variation_count_single.replace("%qty%",n)):i.text(dokan.i18n_variation_count_plural.replace("%qty%",n)),n},update_single_quantity:function(a,e){if(1===e){var i=t(".dokan-variations-pagenav");n.update_variations_count(e),i.is(":hidden")&&(t("option, optgroup","select.variation-actions").show(),t("select.variation-actions").val("add_variation"),t("#dokan-variable-product-options").find(".dokan-variation-action-toolbar").show(),i.show(),t(".pagination-links",i).hide())}},set_paginav:function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),i=n.update_variations_count(a),o=t("#dokan-variable-product-options").find(".dokan-variation-action-toolbar"),s=t("select.variation-actions"),r=t(".dokan-variations-pagenav"),d=t(".pagination-links",r),c=Math.ceil(i/dokan.variations_per_page),l="";e.attr("data-total_pages",c),t(".total-pages",r).text(c);for(var p=1;p<=c;p++)l+='<option value="'+p+'">'+p+"</option>";t(".page-selector",r).empty().html(l),0===i?(o.not(".toolbar-top, .toolbar-buttons").hide(),r.hide(),t("option, optgroup",s).hide(),t("select.variation-actions").val("add_variation"),t('option[data-global="true"]',s).show()):(o.show(),r.show(),t("option, optgroup",s).show(),t("select.variation-actions").val("add_variation"),1===c?d.hide():d.show())},check_is_enabled:function(a){return!t(a).hasClass("disabled")},change_classes:function(a,e){var n=t(".dokan-variations-pagenav .first-page"),i=t(".dokan-variations-pagenav .prev-page"),o=t(".dokan-variations-pagenav .next-page"),s=t(".dokan-variations-pagenav .last-page");1===a?(n.addClass("disabled"),i.addClass("disabled")):(n.removeClass("disabled"),i.removeClass("disabled")),e===a?(o.addClass("disabled"),s.addClass("disabled")):(o.removeClass("disabled"),s.removeClass("disabled"))},set_page:function(a){t(".dokan-variations-pagenav .page-selector").val(a).first().trigger("change")},go_to_page:function(t,a){t=t||1,a=a||0,n.set_paginav(a),n.set_page(t)},page_selector:function(){var a=parseInt(t(this).val(),10),i=t("#dokan-variable-product-options").find(".dokan-variations-container");t(".dokan-variations-pagenav .page-selector").val(a),e.check_for_changes(),n.change_classes(a,parseInt(i.attr("data-total_pages"),10)),e.load_variations(a)},first_page:function(){return n.check_is_enabled(this)&&n.set_page(1),!1},prev_page:function(){if(n.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10)-1,i=0<e?e:1;n.set_page(i)}return!1},next_page:function(){if(n.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-total_pages"),10),i=parseInt(a.attr("data-page"),10)+1,o=e>=i?i:e;n.set_page(o)}return!1},last_page:function(){if(n.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total_pages");n.set_page(a)}return!1}};t((function(){t("#dokan-variable-product-options").length&&(a.init(),e.init(),n.init())}))}))},7178:()=>{var t,a;t=jQuery,a={itemArray:[],itemSlugs:[],itemString:"",init:function(){t("#dokan-store-listing-filter-form-wrap .store-lists-category .category-input").on("click",this.toggleCategory),t("body").on("click",this.hideCategory),t("#dokan-store-listing-filter-form-wrap .store-lists-category .category-box ul li").on("click",this.selectCategory),t("#dokan-store-listing-filter-form-wrap .featured.item #featured").on("change",this.toggleFeatured),t("#dokan-store-listing-filter-form-wrap .open-now.item #open-now").on("change",this.toggleIsOpen),t("#dokan-store-listing-filter-form-wrap .store-ratings.item i").on("click",this.setRatings);const e=dokan.storeLists.getParams();e.length&&e.forEach((function(t){a.setParams(Object.keys(t),Object.values(t))})),this.makeStyleAdjustment()},toggleCategory:function(){t(".store-lists-category .category-box").slideToggle(),t(".store-lists-category .category-input .dokan-icon").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")},hideCategory:function(a){const e=t(a.target);e.is("div.store_category")||e.is("span.dokan-icon")||e.is("div.store-lists-category")||e.is("li")||e.is("ul")||e.is("div.category-input")||e.is("span.category-label")||e.is("span.category-items")||(t(".store-lists-category .category-box").hide(),t(".store-lists-category .category-input .dokan-icon").addClass("dashicons-arrow-down-alt2"))},selectCategory:function(e){const n=t(e.target),i=n.text().trim(),o=n.data("slug"),s=a;if(n.toggleClass("dokan-btn-theme"),s.itemSlugs.includes(o)){let t=s.itemSlugs.indexOf(o);s.itemArray.splice(t,1),s.itemSlugs.splice(t,1)}else s.itemArray.push(i),s.itemSlugs.push(o);dokan.storeLists.query.store_categories=s.itemSlugs;const r=s.itemArray.join(", ");s.setCategoryHolder(r)},toggleFeatured:function(t){delete dokan.storeLists.query.featured,t.target.checked&&(dokan.storeLists.query.featured="yes")},toggleIsOpen:function(t){delete dokan.storeLists.query.open_now,t.target.checked&&(dokan.storeLists.query.open_now="yes")},setRatings:function(a){a.preventDefault();const e=t(a.target),n=e.parent();n.addClass("selected"),[...n.find("i")].forEach((function(a){e.is(a)?t(a).hasClass("active")?(n.removeClass("selected"),t(a).removeClass("active")):t(a).addClass("active"):t(a).removeClass("active")})),dokan.storeLists.query.rating!=e.data("rating")?dokan.storeLists.query.rating=e.data("rating"):delete dokan.storeLists.query.rating},setParams:function(e,n){const i=a,o=window.dokan.storeLists;if(e.forEach((function(t,a){const e=t.indexOf("[");e>0&&(i.itemSlugs.push(n[a]),o.query[t.substr(0,e)]=i.itemSlugs)})),t(".category-items"),o.cateItemStringArray.length){i.itemArray=o.cateItemStringArray;const t=i.itemArray.join(", ");i.setCategoryHolder(t)}},setCategoryHolder:function(a){const e=t(".category-items");if(!a)return e.text(dokan.all_categories);a.length>15?e.text(" ").append(a.substr(0,15)+"..."):e.text(" ").append(a)},makeStyleAdjustment(){const a=t(".store-lists-other-filter-wrap");a&&a.children()&&2===a.children().length&&a.children().first()&&a.children().first().hasClass("featured")&&t("#dokan-store-listing-filter-form-wrap .apply-filter").css("margin-top","15px")}},window.dokan&&window.dokan.storeLists&&a.init()},7561:()=>{!function(t){t.validator.setDefaults({ignore:":hidden"});var a=function(a,e){t(e).closest(".form-group").addClass("has-error").append(a)},e=function(a,e){t(e).closest(".form-group").removeClass("has-error")};({init:function(){this.couponsValidation(this),t("select#discount_type").on("change",this.type_options).trigger("change")},couponsValidation:function(n){t("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:a,success:e})},type_options:function(){t("#coupon_amount").removeClass("wc_input_decimal").addClass("wc_input_price")}}).init()}(jQuery)},8490:()=>{var t,a,e;t=jQuery,a=t(".dokan-store-seo-wrapper"),e={init:function(){a.on("submit","form#dokan-store-seo-form",this.form.validate)},form:{validate:function(a){a.preventDefault();var n={action:"dokan_seo_form_handler",data:t(this).serialize()};return e.form.submit(n),!1},submit:function(a){var e=t("#dokan-seo-feedback");e.fadeOut(),t.post(dokan.ajaxurl,a,(function(t){t.success?(e.html(t.data),e.removeClass("dokan-hide"),e.addClass("dokan-alert-success"),e.fadeIn()):(e.html(t.data),e.addClass("dokan-alert-danger"),e.removeClass("dokan-hide"),e.fadeIn())}))}}},t((function(){e.init()}))},8598:()=>{var t;t=jQuery,dokan.storeProgressBar={init:function(){t("#dokan-profile-progressbar-closer").on("click",(function(a){const e=t(a.target).data("nonce");t.ajax({url:dokan.ajaxurl,data:{action:"dokan_user_closed_progressbar",nonce:e},type:"POST",success:function(e){e.success?t(a.target).closest(".dokan-profile-completeness").fadeOut("slow").remove():dokan_sweetalert(e.data,{icon:"error"})},fail:function(t){dokan_sweetalert(dokan.wrong_message,{icon:"error"}),console.log(t)}})}))}},dokan.storeProgressBar.init()},9030:()=>{var t;t=jQuery,{handleInput:function(a,e){""!==t(a).val()?t(e).removeClass("dokan-hide"):t(e).addClass("dokan-hide")},init:function(){const a=this;t("#bulk-product-action").on("click",(function(a){if(!dokan.is_vendor_enabled)return a.preventDefault(),dokan_sweetalert(dokan.not_enable_message,{icon:"error"});if("edit"===t("#bulk-product-action-selector").val()){a.preventDefault();var e=t('input[name="bulk_products[]"]:checked').map((function(a){return"<label class='uncheck-product'><span class='dokan-cross dashicons dashicons-dismiss'></span> <input class='uncheck-product-id' checked type='checkbox' value='"+t(this).val()+"' name='products_id[]' /> "+t(this).data("product-name")+"</label>"})).get(),n=t('input[name="bulk_products[]"]:checked').map((function(){return t(this).val()})).get();0!==n.length?(t("#bulk-edit").removeClass("dokan-hide"),t("#products_id").val(n),t("#bulk-product-list").html(e)):t("#bulk-edit").addClass("dokan-hide")}})),t("#change_regular_price").on("change",(function(t){a.handleInput("#change_regular_price","#dokan_bulk_regular_price")})),t("#change_sale_price").on("change",(function(t){a.handleInput("#change_sale_price","#dokan_bulk_sale_price")})),t("#change_weight").on("change",(function(t){a.handleInput("#change_weight","#_weight")})),t("#change_stock").on("change",(function(t){a.handleInput("#change_stock","#_stock")})),t("#change_dimensions").on("change",(function(t){a.handleInput("#change_dimensions","#_length"),a.handleInput("#change_dimensions","#_width"),a.handleInput("#change_dimensions","#_height")})),t("#change_vendor_override_bulk_product_min_max").on("change",(function(t){a.handleInput("#change_vendor_override_bulk_product_min_max","#dokan_dashboard_min_quantity"),a.handleInput("#change_vendor_override_bulk_product_min_max","#dokan_dashboard_max_quantity")})),t(".inline-edit-cancel").on("click",(function(a){a.preventDefault(),t("#bulk-edit").addClass("dokan-hide")})),t(".dokan-product-listing-area").on("click",".uncheck-product",(function(a){a.preventDefault();var e=t(this).find("input:checkbox").val();t('input[name="bulk_products[]"]:checked').map((function(){e===t(this).val()&&t(this).prop("checked",!1)})),t(this).remove()}))}}.init()},9096:()=>{var t,a,e;t=jQuery,a=t("#variants-holder"),(e={init:function(){t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),t("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),t("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),t("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),t("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),t("body, #variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),t("body, #variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),t("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),t(".save_attributes").on("click",this.variants.save),this.variants.dates(),this.variants.initSaleSchedule(),t(".product-edit-new-container").on("click",".snippet-btn",this.editProduct.seo.toggleSnippet),t(".product-edit-new-container").on("input","input.wpseo-title-input, textarea.wpseo-meta-input",this.editProduct.seo.dataRender),t(".product-edit-new-container").on("input","#post_title",this.editProduct.seo.onChangePostTitle),t(".product-edit-new-container").on("change","select#wpseo_title_shortcode, select#wpseo_meta_shortcode",this.editProduct.seo.shortcodeRender),t("input.wpseo-title-input").trigger("input"),t("textarea.wpseo-meta-input").trigger("input"),t(".product-edit-new-container, #product-shipping").on("change","input[type=checkbox]#_overwrite_shipping",this.editProduct.shipping.showHideOverride),t(".product-edit-new-container").on("change","input[type=checkbox]#_disable_shipping",this.editProduct.shipping.disableOverride),t("#product-shipping").on("click","#_disable_shipping",this.shipping.disableOverride),t(".product-edit-new-container, .product_lot_discount").on("change","input[type=checkbox]#_is_lot_discount",this.editProduct.showLotDiscountWrapper),t("body").on("click",".upload_image_button",this.editProduct.loadVariationImage),this.editProduct.shipping.showHideOverride(),this.editProduct.shipping.disableOverride(),this.shipping.disableOverride(),t("#_disable_shipping").trigger("change"),t("#_overwrite_shipping").trigger("change"),t(".hide_if_lot_discount").hide(),t(".hide_if_order_discount").hide(),t("body").on("dokan-product-editor-loaded",this.bindProductTagDropdown),t("body").on("dokan-product-editor-popup-opened",this.bindProductTagDropdown)},editProduct:{showLotDiscountWrapper:function(){t(this).is(":checked")?t(".show_if_needs_lot_discount").slideDown("fast"):t(".show_if_needs_lot_discount").slideUp("fast")},loadVariationImage:function(a){a.preventDefault();let e,n=t(this),i=n.attr("rel"),o=n.closest(".upload_image"),s=dokan.dokan_placeholder_img_src,r=i;if(a.preventDefault(),n.is(".dokan-img-remove"))o.find(".upload_image_id").val(""),o.find("img").attr("src",s),o.find(".upload_image_button").removeClass("dokan-img-remove"),n.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed");else{if(e)return e.uploader.uploader.param("post_id",r),void e.open();wp.media.model.settings.post.id=r,wp.media.model.settings.type="dokan",e=wp.media.frames.variable_image=wp.media({title:dokan.i18n_choose_image,button:{text:dokan.i18n_set_image}}),e.on("select",(function(){const a=e.state().get("selection").first().toJSON();o.find(".upload_image_id").val(a.id),o.find(".upload_image_button").addClass("dokan-img-remove"),o.find("img").attr("src",a.url),n.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed"),wp.media.model.settings.post.id=r})),e.open()}},seo:{toggleSnippet:function(){t(".dokan-seo-snippet-edit-wrap").toggle()},replaceShortCodes:function(t,a){var e=Object.keys(a),n=0;for(n=0;n<e.length;n++){var i=e[n].replace(/\[/g,"\\[").replace(/\]/g,"\\]"),o=new RegExp(i,"gi");t&&(t=t.replace(o,a[e[n]]))}return t},dataRender:function(){var a=t(this),n=a.val(),i={"[title]":a.data("title"),"[sep]":a.data("sep"),"[sitename]":a.data("sitename")};""==n&&("text"==a[0].type&&(n="[title] [sep] [sitename]",a.val(n)),"textarea"==a[0].type&&(n=t(".seo-snippet").find(".seo-meta").data("default"),a.val(n)));var o=e.editProduct.seo.replaceShortCodes(n,i);t(".dokan-seo-product-options").find(a.data("class")).html(o)},shortcodeRender:function(){var a=t(this),e=a.val();if(""!=e){var n=jQuery(a.data("class")),i=n[0].selectionStart,o=n.val();n.val(o.substring(0,i)+" "+e+" "+o.substring(i)),n.trigger("input").trigger("focus")}},onChangePostTitle:function(){var a=t(this).val();t('[name="_yoast_wpseo_title"], [name="_yoast_wpseo_metadesc"]').data("title",a).trigger("input")}},shipping:{showHideOverride:function(){t("#_overwrite_shipping").is(":checked")?t(".show_if_override").show():t(".show_if_override").hide()},disableOverride:function(){t("#_disable_shipping").is(":checked")?(t(".show_if_needs_shipping").show(),t("#_overwrite_shipping").trigger("change")):t(".show_if_needs_shipping").hide()}}},variants:{addCategory:function(e){e.preventDefault();var n=t("#product_type").val(),i=t(this).closest("p.toolbar").find("select.select-attribute").val(),o=t(".inputs-box").length;if(""==i){var s=wp.template("sc-category");a.append(s({row:o})).children(":last").hide().fadeIn()}else{var r={row:o,name:i,type:n,action:"dokan_pre_define_attribute"};t("#product-attributes .toolbar").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(dokan.ajaxurl,r,(function(e){e.success&&a.append(e.data).children(":last").hide().fadeIn(),t("#product-attributes .toolbar").unblock()}))}"simple"===product_type&&a.find(".show_if_variable").hide()},removeCategory:async function(a){a.preventDefault();const e=await dokan_sweetalert(dokan.delete_confirm,{action:"confirm",icon:"warning"});"undefined"!==e&&e.isConfirmed&&t(this).parents(".inputs-box").fadeOut((function(){t(this).remove()}))},addItem:function(a){a.preventDefault();var e=t(this),n=e.closest(".inputs-box"),i=e.closest("ul.option-couplet").find("li").length,o=n.data("count"),s=_.template(t("#tmpl-sc-category-item").html());e.closest("li").after(s({row:o,col:i}))},removeItem:function(a){a.preventDefault(),t(this).parents("ul").find("li").length>1&&t(this).parents("li").fadeOut((function(){t(this).remove()}))},save:function(){var a={post_id:t(this).data("id"),data:t(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},e=window.location.toString();t("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(ajaxurl,a,(function(a){t("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t("#variable_product_options").load(e+" #variable_product_options_inner",(function(){t("#variable_product_options").unblock()})),t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),t("#variants-holder").unblock()}))},initSaleSchedule:function(){t(".sale_price_dates_fields").each((function(){var a=t(this),e=!1,n=a.closest("div, table");a.find("input").each((function(){""!=t(this).val()&&(e=!0)})),e?(n.find(".sale_schedule").hide(),n.find(".cancel_sale_schedule").show(),n.find(".sale_price_dates_fields").show()):(n.find(".sale_schedule").show(),n.find(".cancel_sale_schedule").hide(),n.find(".sale_price_dates_fields").hide())}))},saleSchedule:function(){var a=t(this).closest("div, table");return t(this).hide(),a.find(".cancel_sale_schedule").show(),a.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var a=t(this).closest("div, table");return t(this).hide(),a.find(".sale_schedule").show(),a.find(".sale_price_dates_fields").hide(),a.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){t('.sale_price_dates_fields input[name="_sale_price_dates_from"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){let e=new Date(a);e.setDate(e.getDate()+1),t('input[name="_sale_price_dates_to"]').datepicker("option",{minDate:e})}}),t('.sale_price_dates_fields input[name="_sale_price_dates_to"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(t){let a=new Date(t);a.setDate(a.getDate()-1)}})},onVariantAdded:function(){e.variants.dates()}},sidebarToggle:{showStatus:function(a){var e=t(this).siblings(".dokan-toggle-select-container");return e.is(":hidden")&&(e.slideDown("fast"),t(this).hide()),!1},saveStatus:function(a){var e=t(this).closest(".dokan-toggle-select-container");e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show();var n=t("option:selected",e.find("select.dokan-toggle-select")).text();return e.siblings(".dokan-toggle-selected-display").html(n),!1},cancel:function(a){var e=t(this).closest(".dokan-toggle-select-container");return e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show(),!1}},shipping:{disableOverride:function(){t("#_disable_shipping").is(":checked")?t(".hide_if_disable").hide():(t(".hide_if_disable").show(),e.editProduct.shipping.showHideOverride())}},bindProductTagDropdown:function(){dokan.product_vendors_can_create_tags&&"on"===dokan.product_vendors_can_create_tags&&t("#product_tag").select2({tags:!0,language:{noResults:function(){return dokan.i18n_no_result_found}}})}}).init()},9266:()=>{jQuery(document).ready((function(t){"use strict";function a(a){this.$table=t(a),this.current_tr=null,this.current_tr_posX=0,this.edit_form=null,this.current_product_id=0,this.bindElements()}a.prototype.bindElements=function(){const a=this;a.$table.on("click",".edit, .delete, .item-inline-edit, .duplicate",(function(t){if(!dokan.is_vendor_enabled)return t.preventDefault(),dokan_sweetalert(dokan.not_enable_message,{icon:"error"})})),a.$table.on("click",".item-inline-edit",(function(e){if(e.preventDefault(),dokan.is_vendor_enabled){a.$table.find("tr.dokan-product-list-inline-edit-form").addClass("dokan-hide");var n=t(this).children("a");a.current_product_id=n.data("product-id"),a.current_tr=n.parents("tr"),a.current_tr_posX=a.current_tr.offset().top,a.current_tr.addClass("dokan-hide"),a.edit_form=a.current_tr.next(".dokan-product-list-inline-edit-form"),a.edit_form.removeClass("dokan-hide"),a.bindSelect2(),a.scrollTop()}})),a.$table.on("click",".inline-edit-cancel",(function(t){t.preventDefault(),null!==a.current_tr&&a.current_tr.length&&(a.current_tr.removeClass("dokan-hide").next(".dokan-product-list-inline-edit-form").addClass("dokan-hide"),a.scrollTop())})),a.$table.on("click",".inline-edit-update",(function(e){e.preventDefault();var n=t(this),i=n.parent(),o=n.parents("fieldset");i.addClass("show-loading-animation"),o.attr("disabled","disabled");var s={};a.edit_form.find("[data-field-name]").each((function(){"checkbox"===t(this).attr("type")?s[t(this).data("field-name")]=t(this).is(":checked"):"chosen_product_cat"===t(this).data("field-name")?(!s[t(this).data("field-name")]&&(s[t(this).data("field-name")]=[]),s[t(this).data("field-name")].push(t(this).val())):s[t(this).data("field-name")]=t(this).val()})),t.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:{action:"dokan_product_inline_edit",security:dokan.product_inline_edit_nonce,data:s}}).done((function(t){t.data&&t.data.row&&(a.scrollTop(a.current_tr),a.edit_form.addClass("dokan-hide").prev().replaceWith(t.data.row))})).fail((function(t){t.responseJSON&&"string"==typeof t.responseJSON.data&&dokan_sweetalert(t.responseJSON.data,{icon:"error"})})).always((function(){i.removeClass("show-loading-animation"),o.prop("disabled",!1)}))})),a.$table.on("click","[data-field-toggler]",(function(e){var n=t(this).data("field-name"),i=t(this).is(":checked");a.edit_form.find('[data-field-toggle="'+n+'"]').each((function(){var e=t(this),n=e.data("field-show-on");i==n?e.removeClass("dokan-hide"):e.addClass("dokan-hide"),e.find(".dokan-select2").select2("destroy").removeClass("dokan-select2"),a.bindSelect2()}))}))},a.prototype.bindSelect2=function(){this.edit_form.find("select:not(.dokan-select2)").addClass("dokan-select2").select2()},a.prototype.scrollTop=function(){t("html, body").scrollTop(this.current_tr_posX-50)},t(".dokan-inline-editable-table").each((function(){new a(this)}))}))}},a={};function e(n){var i=a[n];if(void 0!==i)return i.exports;var o=a[n]={exports:{}};return t[n](o,o.exports,e),o.exports}e.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},e.d=(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},e.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),(()=>{"use strict";e(6176),e(7561),e(9266),e(6760),e(9096),e(6354),e(3676),e(465),e(7178),e(8490),e(1990),e(9030),e(8598),e(6121)})()})();