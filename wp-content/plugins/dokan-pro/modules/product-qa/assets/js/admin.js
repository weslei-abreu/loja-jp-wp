(()=>{"use strict";var t={n:e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},d:(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.jQuery;var s=t.n(e);function a(t,e,s,a,n,i,o,r){var d,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),a&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=d):n&&(d=r?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(l.functional){l._injectStyles=d;var u=l.render;l.render=function(t,e){return d.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,d):[d]}return{exports:t,options:l}}const n=a({name:"ProductQuestionsAnswers",components:{ListTable:dokan_get_lib("ListTable"),Modal:dokan_get_lib("Modal"),Currency:dokan_get_lib("Currency"),AdminNotice:dokan_get_lib("AdminNotice")},data(){return{totalPages:1,perPage:20,totalItems:0,filter:{vendor_id:0,product_id:0},counts:{read:0,unread:0,answered:0,unanswered:0},notFound:this.__("No question found.","dokan"),showCb:!0,loading:!1,columns:{question:{label:this.__("Question","dokan")},product:{label:this.__("Product","dokan")},vendor:{label:this.__("Vendor","dokan")},created:{label:this.__("Date","dokan")},status:{label:this.__("Status","dokan")}},requests:[],actionColumn:"question",hasPro:!!dokan.hasPro}},watch:{"$route.query.status"(){this.fetchRequests()},"$route.query.page"(){this.fetchRequests()},"$route.query.vendor_id"(){this.fetchRequests()},"$route.query.product_id"(){this.fetchRequests()},"filter.vendor_id"(t){0===t&&this.clearSelection("#filter-vendors"),this.goTo(this.query)},"filter.product_id"(t){0===t&&this.clearSelection("#filter-products"),this.goTo(this.query)}},computed:{currentStatus(){return this.$route.query.status||"all"},currentPage(){let t=this.$route.query.page||1;return parseInt(t)},actions:()=>[],bulkActions(){return"all"==this.currentStatus?[{key:"read",label:this.__("Mark as Read","dokan")},{key:"unread",label:this.__("Mark as Unread","dokan")},{key:"delete",label:this.__("Delete","dokan")}]:"read"==this.currentStatus?[{key:"unread",label:this.__("Mark as Unread","dokan")},{key:"delete",label:this.__("Delete","dokan")}]:[{key:"delete",label:this.__("Delete","dokan")}]}},created(){this.fetchRequests()},mounted(){let t=this;s()("#filter-vendors").selectWoo({ajax:{url:"".concat(dokan.rest.root,"dokan/v1/stores"),dataType:"json",headers:{"X-WP-Nonce":dokan.rest.nonce},data:t=>({search:t.term}),processResults:t=>({results:t.map((t=>({id:t.id,text:t.store_name})))})}}),s()("#filter-vendors").on("select2:select",(e=>{t.filter.vendor_id=e.params.data.id})),s()("#filter-products").selectWoo({ajax:{url:"".concat(dokan.rest.root,"wc/v3/products"),dataType:"json",headers:{"X-WP-Nonce":dokan.rest.nonce},data:t=>({search:t.term}),processResults:t=>({results:t.map((t=>({id:t.id,text:t.name})))})}}),s()("#filter-products").on("select2:select",(e=>{t.filter.product_id=e.params.data.id}))},methods:{updatedCounts(t){this.counts.all=parseInt(t.getResponseHeader("X-Status-All")),this.counts.unread=parseInt(t.getResponseHeader("X-Status-Unread")),this.counts.read=parseInt(t.getResponseHeader("X-Status-Read")),this.counts.answered=parseInt(t.getResponseHeader("X-Status-Answered")),this.counts.unanswered=parseInt(t.getResponseHeader("X-Status-Unanswered"))},updatePagination(t){this.totalPages=parseInt(t.getResponseHeader("X-WP-TotalPages")),this.totalItems=parseInt(t.getResponseHeader("X-WP-Total"))},vendorUrl:t=>"1"===window.dokan.hasPro?dokan.urls.adminRoot+"admin.php?page=dokan#/vendors/"+t:dokan.urls.adminRoot+"user-edit.php?user_id="+t,questionSingleUrl:t=>dokan.urls.adminRoot+"admin.php?page=dokan#/product-qa/"+t,productUrl:t=>dokan.urls.adminRoot+"post.php?post="+t+"&action=edit",fetchRequests(){this.loading=!0;const t={per_page:this.perPage,page:this.currentPage};parseInt(this.filter.vendor_id)>0&&(t.vendor_id=this.filter.vendor_id),"all"===this.currentStatus||"answered"!==this.currentStatus&&"unanswered"!==this.currentStatus||(t.answered="answered"===this.currentStatus),"all"===this.currentStatus||"read"!==this.currentStatus&&"unread"!==this.currentStatus||(t.read="read"===this.currentStatus),parseInt(this.filter.product_id)>0&&(t.product_id=this.filter.product_id),dokan.api.get("/product-questions",t).done(((t,e,s)=>{this.requests=t,this.updatedCounts(s),this.updatePagination(s)})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.loading=!1}))},goToPage(t){this.$router.push({name:"ProductQuestionsAnswers",query:{status:this.currentStatus,page:t,vendor_id:this.filter.vendor_id,product_id:this.filter.product_id}})},goTo(t){this.$router.push({name:"ProductQuestionsAnswers",query:{status:this.currentStatus,vendor_id:this.filter.vendor_id,product_id:this.filter.product_id}})},updateItem(t,e){let s=this.requests.findIndex((e=>e.id==t));this.$set(this.requests,s,e)},changeStatus(t,e){this.loading=!0,dokan.api.put("/product-questions/"+e,{read:"read"===t}).done((t=>{this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.loading=!1}))},deleteQuestion(t,e){this.loading=!0,dokan.api.delete("/product-questions/"+e,{}).done((t=>{this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.loading=!1}))},async onActionClick(t,e){if("read"===t&&this.changeStatus("read",e.id),"unread"===t&&this.changeStatus("unread",e.id),"delete"===t){let t=await dokan_sweetalert(this.__("Are you sure you want to delete the Question?","dokan"),{action:"confirm",icon:"warning"});"undefined"!==t&&t.isConfirmed&&this.changeStatus("delete",e.id)}},moment:t=>moment(t),async onBulkAction(t,e){if(_.contains(["read","unread"],t)&&this.performBulkAction(e,t),_.contains(["delete"],t)){let s=await dokan_sweetalert(this.__("Are you sure you want to delete selected Questions?","dokan"),{action:"confirm",icon:"warning"});"undefined"!==s&&s.isConfirmed&&this.performBulkAction(e,t)}},performBulkAction(t,e){this.loading=!0,dokan.api.put("/product-questions/bulk_action",{action:e,ids:t}).done((t=>{dokan_sweetalert("",{toast:!0,icon:"success",title:t.message,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}}),this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.loading=!1}))},clearSelection(t){s()(t).val(null).trigger("change")}}},(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"product-questions-answers"},[e("h1",[t._v(t._s(t.__("Product Questions & Answers","dokan")))]),t._v(" "),e("AdminNotice"),t._v(" "),e("ul",{staticClass:"subsubsub"},[e("li",[e("router-link",{class:{current:"all"===t.currentStatus},attrs:{to:{name:"ProductQuestionsAnswers",query:{status:"all"}}}},[t._v(t._s(t.__("All","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.all))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:{current:"unread"===t.currentStatus},attrs:{to:{name:"ProductQuestionsAnswers",query:{status:"unread"}}}},[t._v(t._s(t.__("Unread","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.unread))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:{current:"read"===t.currentStatus},attrs:{to:{name:"ProductQuestionsAnswers",query:{status:"read"}}}},[t._v(t._s(t.__("Read","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.read))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:{current:"unanswered"===t.currentStatus},attrs:{to:{name:"ProductQuestionsAnswers",query:{status:"unanswered"}}}},[t._v(t._s(t.__("Unanswered","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.unanswered))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:{current:"answered"===t.currentStatus},attrs:{to:{name:"ProductQuestionsAnswers",query:{status:"answered"}}}},[t._v(t._s(t.__("Answered","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.answered))])])],1)]),t._v(" "),e("list-table",{attrs:{columns:t.columns,rows:t.requests,loading:t.loading,"action-column":t.actionColumn,actions:t.actions,"show-cb":t.showCb,"bulk-actions":t.bulkActions,"not-found":t.notFound,"total-pages":t.totalPages,"total-items":t.totalItems,"per-page":t.perPage,"current-page":t.currentPage,text:t.$root.listTableTexts()},on:{pagination:t.goToPage,"action:click":t.onActionClick,"bulk:click":t.onBulkAction},scopedSlots:t._u([{key:"question",fn:function(s){return[e("a",{attrs:{href:t.questionSingleUrl(s.row.id)}},[e("strong",[t._v(t._s(s.row.question))])])]}},{key:"vendor",fn:function(s){return[e("img",{attrs:{src:s.row.vendor.avatar,alt:s.row.vendor.name,width:"50"}}),t._v(" "),e("p",[e("a",{attrs:{href:t.vendorUrl(s.row.vendor.id)}},[t._v(t._s(s.row.vendor.name?s.row.vendor.name:t.__("(no name)","dokan")))])])]}},{key:"product",fn:function(s){return[e("img",{attrs:{src:s.row.product.image,alt:s.row.product.title,width:"50"}}),t._v(" "),e("p",[e("a",{attrs:{href:t.productUrl(s.row.product.id)}},[t._v(t._s(s.row.product.title?s.row.product.title:t.__("(no name)","dokan")))])])]}},{key:"status",fn:function(s){return[e("span",{class:s.row.answer.id},[t._v(t._s(s.row.answer.id?t.__("Answered","dokan"):t.__("Unanswered","dokan")))])]}},{key:"created",fn:function(e){return[t._v("\n                "+t._s(e.row.human_readable_created_at)+"\n            ")]}}])},[t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),e("template",{slot:"filters"},[e("select",{staticStyle:{width:"190px"},attrs:{id:"filter-vendors","data-placeholder":t.__("Filter by vendor","dokan")}}),t._v(" "),t.filter.vendor_id?e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.filter.vendor_id=0}}},[t._v("×")]):t._e(),t._v(" "),e("select",{staticStyle:{width:"190px"},attrs:{id:"filter-products","data-placeholder":t.__("Filter by product","dokan")}}),t._v(" "),t.filter.product_id?e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.filter.product_id=0}}},[t._v("×")]):t._e()])],2)],1)])}),[],!1,null,null,null).exports,i=a({name:"ProductQuestionsAnswersSingle",components:{AdminNotice:dokan_get_lib("AdminNotice"),TextEditor:dokan_get_lib("TextEditor")},data:()=>({isLoading:!1,questionEditMode:!1,answerEditMode:!1,isQuestionUpdating:!1,isQuestionVisibilityUpdating:!1,isQuestionDeleting:!1,isAnswerUpdating:!1,isAnswerDeleting:!1,question:{id:0,question:"",status:"",human_readable_created_at:"",human_readable_updated_at:""},answer:{id:0,answer:""},product:{id:0,title:"",image:""},vendor:{id:0,name:""}}),computed:{id(){return this.$route.params.id}},watch:{"$route.params.id"(){this.fetchRequests(),this.clearActiveWPEditor()}},created(){this.fetchRequests(),this.clearActiveWPEditor()},methods:{fetchRequests(){const t=this;this.isLoading=!1,dokan.api.get("/product-questions/"+t.id).done((e=>{Object.assign(t.question,e),Object.assign(t.answer,t.question.answer),Object.assign(t.product,t.question.product),Object.assign(t.vendor,t.question.vendor),t.question.read||t.changeReadStatus("read",t.id)})).fail((t=>{this.showAlert(t.responseJSON.message,"","error")})).always((()=>{t.isLoading=!1}))},moment:t=>moment(t),async setQuestionEditMode(t=!1){this.questionEditMode=t},async setAnswerEditMode(t=!1){this.answerEditMode=t,await this.clearActiveWPEditor()},saveQuestion(t){this.isLoading=!0,this.isQuestionUpdating=!0,dokan.api.post("/product-questions/"+t,{question:this.question.question}).done((t=>{dokan_sweetalert("",{toast:!0,icon:"success",title:this.__("Question updated successfully.","dokan"),position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}}),this.setQuestionEditMode(!1),this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1,this.isQuestionUpdating=!1}))},showAlert(t,e,s){Swal.fire(t,e,s)},async clearActiveWPEditor(){window.tinymce.activeEditor&&await window.tinymce.activeEditor.destroy()},vendorUrl:t=>"1"===window.dokan.hasPro?dokan.urls.adminRoot+"admin.php?page=dokan#/vendors/"+t:dokan.urls.adminRoot+"user-edit.php?user_id="+t,productUrl:t=>dokan.urls.adminRoot+"post.php?post="+t+"&action=edit",goToList(){this.$router.push({name:"ProductQuestionsAnswers",query:{}})},changeReadStatus(t,e){dokan.api.put("/product-questions/"+e,{read:"read"===t}).done((t=>{})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{}))},async changeVisibilityStatus(t,e){this.isLoading=!0;let s=await dokan_sweetalert(this.__("Are you sure you want to change the Question visibility?","dokan"),{action:"confirm",icon:"warning"});"undefined"!==s&&s.isConfirmed&&dokan.api.put("/product-questions/"+e,{status:t}).done((t=>{Object.assign(this.question,t),dokan_sweetalert("",{toast:!0,icon:"success",title:this.__("Visibility status changed successfully."),position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}}),this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1}))},async deleteQuestion(t){let e=await dokan_sweetalert(this.__("Are you sure you want to delete the Question?","dokan"),{action:"confirm",icon:"warning"});"undefined"!==e&&e.isConfirmed&&(this.isLoading=!0,this.isQuestionDeleting=!0,dokan.api.delete("/product-questions/"+t,{}).done((t=>{this.goToList()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1,this.isQuestionDeleting=!1})))},async deleteAnswer(t){let e=await dokan_sweetalert(this.__("Are you sure you want to delete the Answer?","dokan"),{action:"confirm",icon:"warning"});"undefined"!==e&&e.isConfirmed&&(this.isLoading=!0,this.isAnswerDeleting=!0,dokan.api.delete("/product-answers/"+t,{}).done((t=>{this.setAnswerEditMode(!1),this.fetchRequests(),dokan_sweetalert("",{toast:!0,icon:"success",title:this.__("Answer deleted successfully."),position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1,this.isAnswerDeleting=!1})))},saveAnswer(t){t.id?this.updateAnswer(t):this.createAnswer(t)},createAnswer(t){this.isLoading=!0,this.isAnswerUpdating=!0,dokan.api.post("/product-answers/",t).done((t=>{Object.assign(this.answer,t),this.fetchRequests(),dokan_sweetalert("",{toast:!0,icon:"success",title:this.__("Answer created successfully."),position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}}),this.isAnswerUpdating=!1,this.setAnswerEditMode(!1)})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1,this.isAnswerUpdating=!1}))},updateAnswer(t){this.isLoading=!0,this.isAnswerUpdating=!0,dokan.api.put("/product-answers/"+t.id,t).done((t=>{Object.assign(this.answer,t),this.setAnswerEditMode(!1),this.isAnswerUpdating=!1,dokan_sweetalert("",{toast:!0,icon:"success",title:this.__("Answer updated successfully."),position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}}),this.fetchRequests()})).catch(((t,e,s)=>{let a=dokan_handle_ajax_error(t);dokan_sweetalert("",{toast:!0,icon:"error",title:a,position:"bottom-right",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}})})).always((()=>{this.isLoading=!1,this.isAnswerUpdating=!1}))}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dokan-product-qa-single"},[e("AdminNotice"),t._v(" "),e("h2",{staticClass:"!text-base !font-semibold !leading-6 !text-gray-900"},[t._v(t._s(t.__("Product Questions & Answers","dokan")))]),t._v(" "),e("div",{staticClass:"mb-5 block"},[e("a",{staticClass:"button",attrs:{href:"javascript:history.go(-1)"}},[t._v("← "+t._s(t.__("Go Back","dokan")))])]),t._v(" "),e("div",{key:"question"+t.id,staticClass:"grid grid-cols-12 gap-6"},[e("div",{staticClass:"xl:col-span-9 lg:col-span-8 overflow-hidden bg-white shadow sm:rounded-lg col-span-12"},[e("div",{staticClass:"px-4 py-6 sm:px-6"},[e("h3",{staticClass:"!text-base !font-semibold !leading-6 !text-gray-900"},[t._v(t._s(t.__("Question Details","dokan")))])]),t._v(" "),e("div",{staticClass:"border-t border-gray-100"},[e("dl",{staticClass:"divide-y divide-gray-100"},[e("div",{staticClass:"px-4 py-6 sm:grid sm:grid-cols-5 sm:gap-4 sm:px-6"},[e("dt",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.__("Product","dokan")))]),t._v(" "),e("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-4 sm:mt-0"},[e("div",{staticClass:"relative flex items-center space-x-3 rounded-xs bg-white hover:shadow"},[e("div",{staticClass:"flex-shrink-0"},[e("img",{staticClass:"h-12 w-12 rounded-xs",attrs:{src:t.product.image,alt:t.product.title}})]),t._v(" "),e("div",{staticClass:"min-w-0 flex-1"},[e("a",{staticClass:"focus:outline-none no-underline",attrs:{href:t.productUrl(t.product.id)}},[e("span",{staticClass:"absolute inset-0",attrs:{"aria-hidden":"true"}}),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.product.title))])])])])])]),t._v(" "),e("div",{staticClass:"px-4 py-6 sm:grid sm:grid-cols-5 sm:gap-4 sm:px-6"},[e("dt",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.__("Vendor","dokan")))]),t._v(" "),e("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-4 sm:mt-0"},[e("div",{staticClass:"relative flex items-center space-x-3 rounded-xs bg-white hover:shadow"},[e("div",{staticClass:"flex-shrink-0"},[e("img",{staticClass:"h-12 w-12 rounded-xs",attrs:{src:t.vendor.avatar,alt:t.vendor.name}})]),t._v(" "),e("div",{staticClass:"min-w-0 flex-1"},[e("a",{staticClass:"focus:outline-none no-underline",attrs:{href:t.vendorUrl(t.vendor.id)}},[e("span",{staticClass:"absolute inset-0",attrs:{"aria-hidden":"true"}}),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.vendor.name))])])])])])]),t._v(" "),e("div",{staticClass:"px-4 py-6 sm:grid sm:grid-cols-5 sm:gap-4 sm:px-6"},[e("dt",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.__("Customer","dokan")))]),t._v(" "),e("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-4 sm:mt-0"},[t._v("\n                            "+t._s(t.question.user_display_name)+"\n                        ")])]),t._v(" "),e("div",{staticClass:"px-4 py-6 sm:grid sm:grid-cols-5 sm:gap-4 sm:px-6"},[e("dt",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(t.__("Question","dokan")))]),t._v(" "),e("dd",{staticClass:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-4 sm:mt-0"},[t.questionEditMode?e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.question,expression:"question.question"}],staticClass:"block w-full mb-5 rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",attrs:{id:"dokan-product-qa-admin-question-editor"+t.question.id,rows:"4",name:"comment",id:"comment"},domProps:{value:t.question.question},on:{input:function(e){e.target.composing||t.$set(t.question,"question",e.target.value)}}}),t._v(" "),e("button",{staticClass:"rounded-md bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isQuestionUpdating},on:{click:function(e){return t.saveQuestion(t.question.id)}}},[t._v("\n                                    "+t._s(t.isQuestionUpdating?t.__("Saving..","dokan"):t.__("Save","dokan"))+"\n                                ")]),t._v(" "),e("button",{staticClass:"rounded-md bg-gray-50 px-3 py-2 text-sm font-semibold text-gray-600 shadow-sm hover:bg-gray-100",attrs:{type:"button"},on:{click:function(e){return t.setQuestionEditMode(!1)}}},[t._v("\n                                    "+t._s(t.__("Cancel","dokan"))+"\n                                ")])]):e("div",[e("div",{staticClass:"break-words"},[t._v(t._s(t.question.question))]),t._v(" "),e("button",{staticClass:"rounded-md bg-indigo-50 mt-4 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100",attrs:{type:"button"},on:{click:function(e){return t.setQuestionEditMode(!0)}}},[t._v("\n                                    "+t._s(t.__("Edit","dokan"))+"\n                                ")])])])])])])]),t._v(" "),e("div",{staticClass:"xl:col-span-3 lg:col-span-4 col-span-12"},[e("h2",{staticClass:"sr-only"},[t._v(t._s(t.__("Status","dokan")))]),t._v(" "),e("div",{staticClass:"rounded-lg bg-white shadow-sm ring-1 ring-gray-900/5"},[e("dl",{staticClass:"flex flex-wrap"},[e("div",{staticClass:"flex-auto pl-6 pt-6"},[e("dt",{staticClass:"text-base font-semibold leading-6 text-gray-900"},[t._v(t._s(t.__("Status","dokan")))])]),t._v(" "),e("div",{key:t.question.status,staticClass:"flex-none self-end px-6 pt-4"},[e("dt",{staticClass:"sr-only"},[t._v(t._s(t.__("Status","dokan")))]),t._v(" "),"visible"===t.question.status?e("dd",{staticClass:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},[t._v("\n                            "+t._s(t.__("Visible","dokan"))+"\n                        ")]):e("dd",{staticClass:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700 ring-1 ring-inset ring-gray-600/20"},[t._v("\n                            "+t._s(t.__("Hidden","dokan"))+"\n                        ")])]),t._v(" "),e("div",{key:t.question.human_readable_created_at,staticClass:"mt-6 flex w-full flex-none gap-x-4 border-t border-gray-900/5 px-6 pt-6"},[e("dt",{staticClass:"flex-none"},[e("span",{staticClass:"sr-only"},[t._v(t._s(t.__("Created at","dokan")))]),t._v(" "),e("svg",{staticClass:"h-6 w-5 text-gray-400",attrs:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}}),t._v(" "),e("path",{attrs:{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"}})])]),t._v(" "),e("dd",{staticClass:"text-sm leading-6 text-gray-500"},[t._v("\n                            "+t._s(t.__("Created:","dokan"))+"\n                            "),e("time",{attrs:{datetime:t.question.created_at}},[t._v(t._s(t.question.human_readable_created_at))])])]),t._v(" "),e("div",{key:t.question.human_readable_updated_at,staticClass:"mt-4 flex w-full flex-none gap-x-4 px-6"},[e("dt",{staticClass:"flex-none"},[e("span",{staticClass:"sr-only"},[t._v(t._s(t.__("Updated at","dokan")))]),t._v(" "),e("svg",{staticClass:"h-6 w-5 text-gray-400",attrs:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}}),t._v(" "),e("path",{attrs:{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"}})])]),t._v(" "),e("dd",{staticClass:"text-sm leading-6 text-gray-500"},[t._v("\n                            "+t._s(t.__("Last Updated:","dokan"))+"\n                            "),e("time",{attrs:{datetime:t.question.updated_at}},[t._v(t._s(t.question.human_readable_updated_at))])])])]),t._v(" "),e("div",{staticClass:"mt-6 border-t border-gray-900/5 px-6 py-6"},["visible"===t.question.status?e("button",{staticClass:"rounded-md bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isQuestionVisibilityUpdating},on:{click:function(e){return t.changeVisibilityStatus("hidden",t.question.id)}}},[t._v("\n                        "+t._s(t.__("Hide From Product Page","dokan"))+"\n                    ")]):e("button",{staticClass:"rounded-md bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isQuestionVisibilityUpdating},on:{click:function(e){return t.changeVisibilityStatus("visible",t.question.id)}}},[t._v("\n                        "+t._s(t.__("Show In Product Page","dokan"))+"\n                    ")]),t._v(" "),e("button",{staticClass:"rounded-md bg-red-50 px-3 py-2 mt-2 text-sm font-semibold text-red-600 shadow-sm hover:bg-red-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isQuestionDeleting},on:{click:function(e){return t.deleteQuestion(t.question.id)}}},[t._v("\n                        "+t._s(t.isQuestionDeleting?t.__("Deleting..","dokan"):t.__("Delete","dokan"))+"\n                    ")])])])])]),t._v(" "),e("div",{key:"answer"+t.answer.id,staticClass:"grid grid-cols-12"},[e("div",{staticClass:"mt-6 col-span-12 overflow-hidden bg-white shadow xl:col-span-9 lg:col-span-8 sm:rounded-lg"},[e("h2",{staticClass:"sr-only"},[t._v(t._s(t.__("Answer","dokan")))]),t._v(" "),e("div",{staticClass:"rounded-lg bg-white shadow-sm ring-1 ring-gray-900/5"},[e("div",{staticClass:"flex flex-wrap"},[e("div",{staticClass:"flex-auto pl-6 pt-6"},[e("dt",{staticClass:"text-base font-semibold leading-6 text-gray-900"},[t._v(t._s(t.__("Answer","dokan")))])]),t._v(" "),e("div",{staticClass:"mt-6 flex w-full flex-none gap-x-4 border-t border-gray-900/5 px-6 pt-6"},[e("div",{staticClass:"flex-none w-[95%] max-w-[88%] md:max-w-[95%]"},[e("span",{staticClass:"sr-only"},[t._v(t._s(t.__("Answer Text","dokan")))]),t._v(" "),t.answerEditMode||0===t.answer.id?e("div",{},[e("text-editor",{attrs:{id:"dokan-product-qa-admin-answer-editor"+t.answer.id},domProps:{innerHTML:t._s(t.answer.answer)},model:{value:t.answer.answer,callback:function(e){t.$set(t.answer,"answer",e)},expression:"answer.answer"}})],1):e("div",[e("div",{staticClass:"prose break-words lg:prose-xl after:clear-both after:content-[''] after:block",domProps:{innerHTML:t._s(t.answer.answer)}}),t._v(" "),e("p",{staticClass:"text-sm mt-4"},[t._v(" "+t._s(t.__("by","dokan"))+" "+t._s(t.answer.user_display_name)+" "+t._s(t.__("on","dokan"))+"  "+t._s(t.answer.human_readable_updated_at))])])])])]),t._v(" "),e("div",{staticClass:"mt-6 border-t border-gray-900/5 px-6 py-6"},[t.answerEditMode||0===t.answer.id?e("button",{staticClass:"rounded-md bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isAnswerUpdating},on:{click:function(e){return t.saveAnswer(t.answer)}}},[t._v("\n                        "+t._s(t.isAnswerUpdating?t.__("Saving...","dokan"):t.__("Save","dokan"))+"\n                    ")]):e("button",{staticClass:"rounded-md bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100",attrs:{type:"button"},on:{click:function(e){return t.setAnswerEditMode(!0)}}},[t._v("\n                        "+t._s(t.__("Edit","dokan"))+"\n                    ")]),t._v(" "),t.answer.id&&!t.answerEditMode?e("button",{staticClass:"rounded-md bg-red-50 px-3 py-2 text-sm font-semibold text-red-600 shadow-sm hover:bg-red-100 disabled:cursor-progress",attrs:{type:"button",disabled:t.isAnswerDeleting},on:{click:function(e){return t.deleteAnswer(t.answer.id)}}},[t._v("\n                        "+t._s(t.isAnswerDeleting?t.__("Deleting..","dokan"):t.__("Delete","dokan"))+"\n                    ")]):t._e(),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.answerEditMode,expression:"answerEditMode"}],staticClass:"rounded-md bg-gray-50 px-3 py-2 text-sm font-semibold text-gray-600 shadow-sm hover:bg-gray-100",attrs:{type:"button"},on:{click:function(e){return t.setAnswerEditMode(!1)}}},[t._v("\n                        "+t._s(t.__("Cancel","dokan"))+"\n                    ")])])])])])],1)}),[],!1,null,"74eb3d1e",null).exports;dokan_add_route(n),dokan_add_route(i)})();