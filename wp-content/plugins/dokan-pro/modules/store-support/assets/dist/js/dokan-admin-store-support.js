(()=>{"use strict";var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.jQuery;var a=t.n(e);function s(t,e,a,s,o,i,n,r){var d,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=d):o&&(d=r?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(c.functional){c._injectStyles=d;var l=c.render;c.render=function(t,e){return d.call(e),l(t,e)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,d):[d]}return{exports:t,options:c}}const o=s({name:"StoreSupportList",components:{ListTable:dokan_get_lib("ListTable"),Search:dokan_get_lib("Search"),Datepicker:dokan_get_lib("Datepicker"),DateRangePicker:dokan_get_lib("DateRangePicker")},data(){return{dateRange:{from_date:"",to_date:""},showCb:!0,totalItems:0,perPage:20,totalPages:1,loading:!1,currentPage:1,index:"ID",counts:{all:0,closed:0,open:0},actions:[],bulkActions:[{key:"close",label:"Close"}],filter:{vendor_id:0,customer_id:0},nothingFound:this.__("No tickets found.","dokan"),columns:{ID:{label:this.__("Topic","dokan"),sortable:!0},post_title:{label:this.__("Title","dokan")},vendor_name:{label:this.__("Vendor","dokan")},customer_name:{label:this.__("Customer","dokan")},post_status:{label:this.__("Status","dokan")},ticket_date:{label:this.__("Date","dokan"),sortable:!0},action:{label:this.__("Action","dokan")}},supportTickets:[],currentStatus:"",sortBy:"ID",sortOrder:"desc"}},created(){this.fetchAllSupportTickets()},methods:{datePickerFormat(){return this.dateTimePickerFormat?this.dateTimePickerFormat():{format:dokan_get_daterange_picker_format().toLowerCase(),separator:" - ",applyLabel:this.__("Apply","dokan"),cancelLabel:this.__("Clear","dokan")}},currentTab(t="open"){return t===this.currentStatus?"current":""},fetchAllSupportTickets(t={}){let e=this;e.loading=!0,this.currentStatus=this.$route.query.status||"open";const a={...t,per_page:e.perPage,page:e.currentPage,post_status:this.$route.query.status||"open",orderby:"ID"===this.sortBy?this.sortBy:"date",order:"asc"===this.sortOrder?"ASC":"DESC"};dokan.api.get("/admin/support-ticket",a).done(((t,a,s)=>{e.supportTickets=t,e.loading=!1,e.updatedCounts(s),e.updatePagination(s)}))},updatedCounts(t){this.counts.all=parseInt(t.getResponseHeader("X-Status-All")),this.counts.closed=parseInt(t.getResponseHeader("X-Status-Closed")),this.counts.open=parseInt(t.getResponseHeader("X-Status-Open")),this.updateUnreadTicketCounter(t.getResponseHeader("X-Ticket-Unread"))},updateUnreadTicketCounter(t){let e=a()(".dokan-unread-ticket-count-in-list");a()(".dokan-unread-ticket-count-badge-in-list").html(t),t>0?e.show():e.hide()},updatePagination(t){this.totalPages=parseInt(t.getResponseHeader("X-WP-TotalPages")),this.totalItems=parseInt(t.getResponseHeader("X-WP-Total"))},goToPage(t){this.currentPage=t,this.fetchAllSupportTickets()},onBulkAction(t,e){if("close"===t){let a={};a[t]=e,this.loading=!0,dokan.api.put("/admin/support-ticket/batch",a).done((t=>{this.loading=!1,this.fetchAllSupportTickets()}))}},doSearch(t){""!==t?this.fetchAllSupportTickets({search:t}):this.fetchAllSupportTickets()},setRoute(t){this.$router.push({name:"AdminStoreSupport",query:t})},clearSelection(t){a()(t).val(null).trigger("change")},getFromDate:()=>moment().startOf("month").format("Y-M-D"),getToDate:()=>moment().endOf("month").format("Y-M-D"),clickFilterSupportTickets(){let t={from_date:this.dateRange.from_date,to_date:this.dateRange.to_date,vendor_id:this.filter.vendor_id,customer_id:this.filter.customer_id};this.fetchAllSupportTickets({filter:t})},sortCallback(t,e){this.sortBy=t,this.sortOrder=e,this.fetchAllSupportTickets()},dateRangeUpdated(){this.dateRange.from_date=a().datepicker.formatDate("yy-mm-dd",new Date(this.dateRange.startDate)),this.dateRange.to_date=a().datepicker.formatDate("yy-mm-dd",new Date(this.dateRange.endDate))},clearDateRange(){this.dateRange.from_date="",this.dateRange.to_date="",this.$refs.picker.togglePicker(!1)}},filters:{date:t=>t?a().datepicker.formatDate(dokan_get_i18n_date_format(),new Date(t)):""},watch:{"$route.query.status"(){this.currentPage=1,this.filter.vendor_id=0,this.filter.customer_id=0,this.dateRange.from_date="",this.dateRange.to_date="",this.fetchAllSupportTickets()},"filter.vendor_id"(t){0===t&&this.clearSelection("#filter-vendors")},"filter.customer_id"(t){0===t&&this.clearSelection("#filter-customers")}},mounted(){const t=this;a()("#filter-vendors").selectWoo({ajax:{url:"".concat(dokan.rest.root,"dokan/v1/stores"),dataType:"json",headers:{"X-WP-Nonce":dokan.rest.nonce},data:t=>({search:t.term}),processResults:t=>({results:t.map((t=>({id:t.id,text:t.store_name})))})}}),a()("#filter-vendors").on("select2:select",(e=>{t.filter.vendor_id=e.params.data.id})),a()("#filter-customers").selectWoo({ajax:{url:"".concat(dokan.rest.root,"dokan/v1/admin/support-ticket/customers"),dataType:"json",headers:{"X-WP-Nonce":dokan.rest.nonce},data:t=>({search:t.term}),processResults:t=>({results:t.map((t=>({id:t.ID,text:t.display_name})))})},delay:250}),a()("#filter-customers").on("select2:select",(e=>{t.filter.customer_id=e.params.data.id}))}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"support-ticket-list"},[e("ul",{staticClass:"subsubsub"},[e("li",[e("router-link",{class:t.currentTab(),attrs:{to:{name:"AdminStoreSupport",query:{status:"open"}},"active-class":"current",exact:""}},[t._v(t._s(t.__("Open","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.open))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:t.currentTab("closed"),attrs:{to:{name:"AdminStoreSupport",query:{status:"closed"}},"active-class":"current",exact:""}},[t._v(t._s(t.__("Closed","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.closed))])]),t._v(" | ")],1),t._v(" "),e("li",[e("router-link",{class:t.currentTab("all"),attrs:{to:{name:"AdminStoreSupport",query:{status:"all"}},"active-class":"current",exact:""}},[t._v(t._s(t.__("All","dokan"))+" "),e("span",{staticClass:"count"},[t._v(t._s(t.counts.all))])]),t._v(" | ")],1)]),t._v(" "),e("search",{attrs:{title:t.__("Search ticket","dokan")},on:{searched:t.doSearch}}),t._v(" "),e("list-table",{attrs:{columns:t.columns,rows:t.supportTickets,notFound:t.nothingFound,"show-cb":t.showCb,actions:t.actions,"bulk-actions":t.bulkActions,loading:t.loading,"total-pages":t.totalPages,"per-page":t.perPage,"current-page":t.currentPage,"total-items":t.totalItems,index:t.index,sortOrder:t.sortOrder,sortBy:t.sortBy},on:{pagination:t.goToPage,"bulk:click":t.onBulkAction,searched:t.doSearch,sort:t.sortCallback},scopedSlots:t._u([{key:"ID",fn:function(a){return[e("router-link",{attrs:{to:{name:"AdminStoreSupport",query:{page_type:"single",topic:a.row.ID,vendor_id:a.row.vendor_id,vendor_id:a.row.vendor_id}}}},[e("strong",{class:"no"===a.row.reading?"not_read":""},[t._v("#"+t._s(a.row.ID))])])]}},{key:"post_title",fn:function(a){return[e("router-link",{attrs:{to:{name:"AdminStoreSupport",query:{page_type:"single",topic:a.row.ID,vendor_id:a.row.vendor_id}}}},[e("strong",{class:"no"===a.row.reading?"not_read":""},[t._v(t._s(a.row.post_title))])])]}},{key:"vendor_name",fn:function(a){return[e("router-link",{attrs:{to:"/vendors/"+a.row.vendor_id}},[e("strong",{class:"no"===a.row.reading?"not_read":""},[t._v(t._s(a.row.vendor_name?a.row.vendor_name:t.__("( No name )","dokan")))])])]}},{key:"customer_name",fn:function(a){return[e("span",{class:"no"===a.row.reading?"not_read":""},[t._v(t._s(a.row.customer_name))])]}},{key:"ticket_date",fn:function(a){return[e("span",{class:"no"===a.row.reading?"not_read":""},[t._v(t._s(a.row.ticket_date))])]}},{key:"post_status",fn:function(a){return[e("span",{staticClass:"dokan-label",class:"closed"===a.row.post_status?"dokan-label-danger":"dokan-label-success"},[t._v(t._s(a.row.post_status))])]}},{key:"action",fn:function(t){return[e("router-link",{attrs:{to:{name:"AdminStoreSupport",query:{page_type:"single",topic:t.row.ID,vendor_id:t.row.vendor_id}}}},[e("span",{staticClass:"dashicons dashicons-visibility"})])]}}])},[t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),e("template",{slot:"filters"},[e("span",{staticClass:"form-group"},[e("select",{staticStyle:{width:"120px"},attrs:{id:"filter-vendors","data-placeholder":t.__("Filter by vendor","dokan")}}),t._v(" "),t.filter.vendor_id?e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.filter.vendor_id=0}}},[t._v("×")]):t._e()]),t._v(" "),e("span",{staticClass:"form-group"},[e("select",{staticStyle:{width:"135px"},attrs:{id:"filter-customers","data-placeholder":t.__("Filter by customer","dokan")}}),t._v(" "),t.filter.customer_id?e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.filter.customer_id=0}}},[t._v("×")]):t._e()]),t._v(" "),e("span",{staticClass:"form-group"},[e("date-range-picker",{ref:"picker",staticClass:"mr-5",attrs:{"locale-data":t.datePickerFormat(),singleDatePicker:!1,timePicker:!1,timePicker24Hour:!1,showWeekNumbers:!1,showDropdowns:!1,autoApply:!1,linkedCalendars:!0,opens:"center"},on:{update:t.dateRangeUpdated},scopedSlots:t._u([{key:"input",fn:function(a){return[t.dateRange.from_date?e("span",[t._v(t._s(t._f("date")(t.dateRange.from_date))+" - "+t._s(t._f("date")(t.dateRange.to_date)))]):t._e(),t._v(" "),t.dateRange.from_date?t._e():e("span",{staticClass:"date-range-placeholder"},[t._v(t._s(t.__("Filter by date","dokan")))])]}},{key:"footer",fn:function(a){return e("div",{staticClass:"drp-buttons"},[e("span",{staticClass:"drp-selected"},[t._v(t._s(a.rangeText))]),t._v(" "),e("button",{staticClass:"cancelBtn btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.clearDateRange()}}},[t._v(t._s(t.__("Clear","dokan")))]),t._v(" "),a.in_selection?t._e():e("button",{staticClass:"applyBtn btn btn-sm btn-success",attrs:{type:"button"},on:{click:a.clickApply}},[t._v(t._s(t.__("Apply","dokan")))])])}}]),model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),t._v(" "),e("button",{staticClass:"button",attrs:{type:"submit"},on:{click:t.clickFilterSupportTickets}},[t._v(t._s(t.__("Filter","dokan")))])],1)])],2)],1)}),[],!1,null,"6c1a51a7",null).exports,i=s({name:"ChatBox",props:{image:String,user:String,comment:String,date:String,status:String,id:Number,userType:Object},methods:{deleteComment(){this.$emit("deleteComment",this.id)},getClassByUserType(){let t="customer-chat-text";return"admin"===this.userType.type?t="admin-chat-text":"vendor"===this.userType.type&&(t="vendor-chat-text"),t}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-box"},[e("div",{staticClass:"chat-image-box"},[e("div",{staticClass:"chat-image-container"},[e("img",{staticClass:"chat-image",attrs:{src:t.image,alt:"no-image"}})])]),t._v(" "),e("div",{staticClass:"chat-info-box"},[e("div",{staticClass:"chat-sender-info"},[e("div",{staticClass:"chat-user-box"},[e("span",{staticClass:"chat-user",domProps:{innerHTML:t._s(t.user)}})])]),t._v(" "),e("div",{staticClass:"chat-text",class:t.getClassByUserType()},[t._v("\n            "+t._s(t.comment)+"\n        ")]),t._v(" "),e("div",{staticClass:"chat-time-box"},[e("span",{staticClass:"chat-time"},[t._v(t._s(t.date))])])]),t._v(" "),e("div",{staticClass:"chat-action-box"},["open"===t.status&&"admin"===t.userType.type?e("span",{staticClass:"chat-delete dashicons dashicons-trash",on:{click:t.deleteComment}}):t._e()])])}),[],!1,null,"f79966cc",null).exports;var n=s({name:"SingleSupportTicket",components:{Loading:dokan_get_lib("Loading"),ChatBox:i,Switches:dokan_get_lib("Switches")},data(){return{loading:!1,topic_id:Number(this.$route.query.topic)||0,vendor_id:Number(this.$route.query.vendor_id)||0,comments:[],topic:{},reply_text:"",store_info:{},chatLoading:!1,site_image_url:"",site_title:"",selected_user:"admin",show_summary_box:!1,defaultUserType:{type:"customer",text:"Customer"},emailNotification:!1,adminEmailNotification:!1}},watch:{"$route.query.topic"(){this.topic_id=Number(this.$route.query.topic)||0},"$route.query.vendor_id"(){this.vendor_id=Number(this.$route.query.vendor_id)||0}},created(){this.fetchTopicData()},methods:{fetchTopicData(t=!0){!0===t?this.loading=!0:!1===t&&(this.chatLoading=!0),dokan.api.get(`/admin/support-ticket/${this.topic_id}`,{vendor_id:this.vendor_id}).done(((t,e,a)=>{this.comments=t.comments,this.topic=t.topic,this.store_info=t.store_info,this.site_image_url=t.site_image_url,this.site_title=t.site_title,this.updateUnreadTicketCounter(t.unread_topics_count?t.unread_topics_count:0),this.adminEmailNotification=!(!t.dokan_admin_email_notification_global||!0!==t.dokan_admin_email_notification_global),this.emailNotification=!(!t.dokan_admin_email_notification||"on"!==t.dokan_admin_email_notification),this.loading=!1,this.chatLoading=!1}))},updateUnreadTicketCounter(t){let e=a()(".dokan-unread-ticket-count-in-list");a()(".dokan-unread-ticket-count-badge-in-list").html(t),t>0?e.show():e.hide()},enableEmailNotification(t){dokan.api.post(`/admin/support-ticket/${this.topic_id}/email-notification`,{notification:t}).done(((t,e,a)=>{this.$notify({title:this.__("Success!","dokan"),type:t.type,text:t.message}),this.emailNotification=t.result}))},sendReplay(){this.chatLoading=!0;let t={replay:this.reply_text,vendor_id:this.vendor_id,selected_user:this.selected_user};dokan.api.post(`/admin/support-ticket/${this.topic_id}`,t).done(((t,e,a)=>{this.chatLoading=!1,this.reply_text="",this.fetchTopicData(!1)}))},openOrClose(t=""){""===t||"open"!==t&&"closed"!==t||(this.loading=!0,dokan.api.post(`/admin/support-ticket/${this.topic_id}/status`,{status:t}).done(((t,e,a)=>{this.loading=!1,this.fetchTopicData();let s=void 0!==t.data.result?t.data.result:"error",o=void 0!==t.data.message?t.data.message:"";this.$notify({title:this.__("Success!","dokan"),type:s,text:o})})))},scroolTOBottom(){let t=this.$refs.chatBoxContainer;void 0!==t&&(t.scrollTop=t.scrollHeight-t.clientHeight)},deleteComment(t){Swal.fire({title:this.__("Delete comment","dokan"),text:this.__("Are you sure, you want to delete this comment!","dokan"),icon:"warning",showCloseButton:!0,showCancelButton:!0,confirmButtonText:this.__("Yes","dokan"),cancelButtonText:this.__("No","dokan"),focusConfirm:!1}).then((e=>{e.value&&dokan.api.delete(`/admin/support-ticket/${t}/comment`).done((t=>{!0===t?(this.loading=!1,this.pageLoading=!1,this.fetchTopicData(),this.$notify({title:this.__("Success!","dokan"),type:"success",text:this.__("Deleted comment successfully!","dokan")})):this.$notify({title:this.__("Sorry!","dokan"),type:"warn",text:this.__("Couldn't delete, please try again !","dokan")})})).fail(((t,e,a)=>{this.$notify({title:this.__("Failed!","dokan"),type:"error",text:this.__("Failed to delete comment!","dokan")})}))}))},collapseSummaryBox(t="block"){this.show_summary_box=!this.show_summary_box},disableReplyButton(){return this.reply_text.length<1||""===this.reply_text||" "===this.reply_text}},updated(){this.scroolTOBottom()},computed:{getCategories:function(){return void 0!==this.store_info.categories?this.store_info.categories.map((t=>t.name)).join(", "):""},conversationCount:function(){return this.comments.length+1}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dokan-admin-single-store-support-ticket"},[t.loading?e("div",{staticClass:"loading"},[e("loading")],1):e("div",{staticClass:"dokan-chat-wraper"},[e("div",{staticClass:"dokan-chat-page-container"},[e("div",{staticClass:"dokan-chat-container"},[e("div",{staticClass:"dokan-chat-header"},[e("div",{staticClass:"dokan-chat-title-box"},[e("span",{staticClass:"dokan-chat-title"},[t._v(t._s(void 0!==t.topic.post_title?t.topic.post_title:""))])]),t._v(" "),e("div",{staticClass:"dokan-chat-status-box"},[e("span",{staticClass:"dokan-chat-status",class:"open"===t.topic.post_status?"dokan-chat-open":"dokan-chat-closed"},[t._v(t._s(void 0!==t.topic.post_status?"open"===t.topic.post_status?t.__("Opened","dokan"):t.__("Closed","dokan"):""))])]),t._v(" "),e("div",{staticClass:"dokan-chat-header-blank-last"})]),t._v(" "),e("div",{ref:"chatBoxContainer",staticClass:"dokan-chat-box-container"},[e("ChatBox",{attrs:{image:void 0!==t.topic.avatar_url?t.topic.avatar_url:"",user:void 0!==t.topic.post_author_name?t.topic.post_author_name:"",comment:void 0!==t.topic.post_content?t.topic.post_content:"",date:void 0!==t.topic.post_date_formated?t.topic.post_date_formated:"",status:void 0!==t.topic.post_status?t.topic.post_status:"closed",id:0,userType:t.defaultUserType},on:{deleteComment:t.deleteComment}}),t._v(" "),t._l(t.comments,(function(a){return e("ChatBox",{key:a.comment_ID,attrs:{image:"admin"===a.comment_user_type.type&&t.site_image_url?t.site_image_url:a.avatar_url,user:"admin"===a.comment_user_type.type&&t.site_title?t.site_title:a.comment_author,comment:void 0!==a.comment_content?a.comment_content:"",date:void 0!==a.comment_date_formated?a.comment_date_formated:"",status:void 0!==t.topic.post_status?t.topic.post_status:"closed",id:Number(a.comment_ID),userType:a.comment_user_type},on:{deleteComment:t.deleteComment}})}))],2),t._v(" "),"open"===t.topic.post_status?e("div",{staticClass:"dokan-chat-replay-container"},[e("div",{staticClass:"dokan-chat-sender-selection-box"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_user,expression:"selected_user"}],attrs:{name:"sender",id:"sender"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected_user=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"admin"}},[t._v(t._s(t.__("As Admin","dokan")))]),t._v(" "),e("option",{attrs:{value:"vendor"}},[t._v(t._s(t.__("As Vendor","dokan")))])])]),t._v(" "),e("div",{staticClass:"dokan-chat-replay-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply_text,expression:"reply_text"}],staticClass:"dokan-chat-replay",attrs:{placeholder:t.__("Write something","dokan")},domProps:{value:t.reply_text},on:{input:function(e){e.target.composing||(t.reply_text=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"dokan-chat-send-box"},[t.loading||t.chatLoading?t.loading||t.chatLoading?e("button",{staticClass:"dokan-send-replay"},[e("span",[t._v(t._s(t.__("Sending...","dokan")))])]):t._e():e("button",{staticClass:"dokan-send-replay",attrs:{disabled:t.disableReplyButton()},on:{click:t.sendReplay}},[t._v(t._s(t.__("Send","dokan")))])])]):e("div",{staticClass:"dokan-chat-replay-container"},[t._m(0),t._v(" "),e("div",{staticClass:"dokan-closed-message"},[t._v(t._s(t.__("This ticket is closed.","dokan")))])])]),t._v(" "),e("div",{staticClass:"dokan-chat-summary-container"},[e("div",{staticClass:"dokan-chat-summary-holder"},[e("div",{staticClass:"dokan-chat-summary-header"},[e("span",{staticClass:"dokan-chat-summary"},[t._v(t._s(t.__("Ticket summary","dokan")))]),t._v(" "),e("span",{staticClass:"dokan-summary-arrow dashicons",class:t.show_summary_box?"dashicons-arrow-down-alt2":"dashicons-arrow-up-alt2",on:{click:function(e){return t.collapseSummaryBox()}}})]),t._v(" "),e("div",{staticClass:"dokan-chat-summary-body",class:t.show_summary_box?"dokan-chat-summary-hide":""},[e("div",{staticClass:"dokan-chat-summary-box"},[e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Ticket ID:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info ticket-id"},[t._v("#"+t._s(t.topic_id))])]),t._v(" "),e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Vendor:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info dokan-vendor-info"},[e("div",{staticClass:"dokan-vendor-store"},[e("router-link",{attrs:{to:"/vendors/"+t.vendor_id}},[t._v("\n                                            "+t._s(t.store_info.store_name&&void 0!==t.store_info.store_name?t.store_info.store_name:t.__("( No name )","dokan"))+"\n                                        ")])],1),t._v(" "),e("div",{staticClass:"dokan-vendor-category"},[t._v(t._s(t.getCategories))])])]),t._v(" "),e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Customer:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info dokan-customer-info"},[t._v(t._s(void 0!==t.topic.post_author_name?t.topic.post_author_name:""))])]),t._v(" "),e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Conversation:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info conversation"},[t._v(t._s(t.conversationCount))])]),t._v(" "),e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Created At:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info created-at"},[t._v(t._s(void 0!==t.topic.post_date_formated?t.topic.post_date_formated:""))])]),t._v(" "),e("div",{staticClass:"dokan-single-summary-box"},[e("div",{staticClass:"dokan-summary-title"},[t._v(t._s(t.__("Email Notification:","dokan")))]),t._v(" "),e("div",{staticClass:"dokan-summary-info created-at"},[e("switches",{attrs:{value:1,enabled:t.emailNotification},on:{input:t.enableEmailNotification}})],1)])]),t._v(" "),e("div",{staticClass:"dokan-chat-status-change-button"},["open"===t.topic.post_status?e("button",{staticClass:"dokan-status-button dokan-close-ticket",on:{click:function(e){return t.openOrClose("closed")}}},[t._v(t._s(t.__("Close ticket","dokan")))]):e("button",{staticClass:"dokan-status-button dokan-reopen-ticket",on:{click:function(e){return t.openOrClose("open")}}},[t._v(t._s(t.__("Reopen ticket","dokan")))])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"dokan-dot-parent"},[e("div",{staticClass:"dokan-dot-container"},[e("div",{staticClass:"dokan-dot"}),t._v(" "),e("div",{staticClass:"dokan-dot"}),t._v(" "),e("div",{staticClass:"dokan-dot"})])])}],!1,null,"4021c0ce",null);const r=s({name:"AdminStoreSupport",components:{StoreSupportList:o,SingleSupportTicket:n.exports},data:()=>({isSinglePage:!1}),created(){"single"===this.$route.query.page_type?this.setSinglePage():this.setSinglePage(!1)},watch:{"$route.query.page_type"(){"single"===this.$route.query.page_type?this.setSinglePage():this.setSinglePage(!1)}},methods:{setSinglePage(t=!0){this.isSinglePage=t}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"admin-store-support-tickets"},[e("h1",{staticClass:"wp-heading-inline"},[t.isSinglePage?e("router-link",{attrs:{to:{name:"AdminStoreSupport"}}},[e("span",{staticClass:"back-to-tickets dashicons dashicons-arrow-left-alt2"}),t._v(" "),e("span",{staticClass:"back-to-tickets"},[t._v(t._s(t.__("Back to ticket list","dokan")))])]):e("span",[t._v(t._s(t.__("Store Support","dokan")))])],1),t._v(" "),e("div",{staticClass:"help-block"},[e("span",{staticClass:"help-text"},[e("a",{attrs:{href:"https://dokan.co/docs/wordpress/modules/how-to-install-and-use-store-support/",target:"_blank"}},[t._v(t._s(t.__("Need Any Help ?","dokan")))])]),t._v(" "),e("span",{staticClass:"dashicons dashicons-smiley"})]),t._v(" "),e("hr",{staticClass:"wp-header-end"}),t._v(" "),t.isSinglePage?e("SingleSupportTicket"):e("StoreSupportList")],1)}),[],!1,null,null,null).exports;dokan_add_route(r)})();