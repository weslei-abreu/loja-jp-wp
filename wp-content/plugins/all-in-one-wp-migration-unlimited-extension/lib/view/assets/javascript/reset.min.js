(()=>{var t={864:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var s=r(237),o=r.n(s);const n={$on:function(){return o().on.apply(o(),arguments)},$once:function(){return o().once.apply(o(),arguments)},$off:function(){return o().off.apply(o(),arguments)},$emit:function(){return o().emit.apply(o(),arguments)}}},504:t=>{function e(){}e.prototype={on:function(t,e,r){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var s=this;function o(){s.off(t,o),e.apply(r,arguments)}return o._=e,this.on(t,o,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=r.length;s<o;s++)r[s].fn.apply(r[s].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),s=r[t],o=[];if(s&&e)for(var n=0,i=s.length;n<i;n++)s[n].fn!==e&&s[n].fn._!==e&&o.push(s[n]);return o.length?r[t]=o:delete r[t],this}},t.exports=e,t.exports.TinyEmitter=e},237:(t,e,r)=>{var s=r(504);t.exports=new s}},e={};function r(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(864),e=jQuery,s=function(){this.params=[]};s.prototype.setParams=function(t){this.params=Ai1wm.Util.list(t)},s.prototype.start=function(t,r){var s=this;if(0===(r=r||0)&&this.stopReset(!1),!this.isResetStopped()){e(window).bind("beforeunload",(function(){return ai1wmve_locale.stop_resetting_your_website})),this.setStatus({type:"info",message:ai1wmve_locale.reset_in_progress_info});var o=this.params.concat({name:"secret_key",value:ai1wm_reset.secret_key});t&&(o=o.concat(Ai1wm.Util.list(t))),e.ajax({url:ai1wm_reset.ajax.url,type:"POST",dataType:"json",data:o,dataFilter:function(t){return Ai1wm.Util.json(t)}}).done((function(){s.getStatus()})).done((function(t){t&&s.run(t)})).fail((function(e){var o=1e3*r;try{var n=Ai1wm.Util.json(e.responseText);if(n){var i=JSON.parse(n).errors.pop();if(i.message)return s.stopReset(!0),void s.setStatus({type:"error",title:ai1wmve_locale.unable_to_reset,message:i.message})}}catch(t){}if(r>=5)return s.stopReset(!0),void s.setStatus({type:"error",title:ai1wmve_locale.unable_to_reset,message:ai1wmve_locale.unable_to_start_the_reset});r++,setTimeout(s.start.bind(s,t,r),o)}))}},s.prototype.run=function(t,r){var s=this;r=r||0,this.isResetStopped()||e.ajax({url:ai1wm_reset.ajax.url,type:"POST",dataType:"json",data:t,dataFilter:function(t){return Ai1wm.Util.json(t)}}).done((function(t){t&&s.run(t)})).fail((function(e){var o=1e3*r;try{var n=Ai1wm.Util.json(e.responseText);if(n){var i=JSON.parse(n).errors.pop();if(i.message)return s.stopReset(!0),void s.setStatus({type:"error",title:ai1wmve_locale.unable_to_reset,message:i.message})}}catch(t){}if(r>=5)return s.stopReset(!0),void s.setStatus({type:"error",title:ai1wmve_locale.unable_to_reset,message:ai1wmve_locale.unable_to_stop_the_reset});r++,setTimeout(s.run.bind(s,t,r),o)}))},s.prototype.getStatus=function(){var t=this;this.isResetStopped()||(this.statusXhr=e.ajax({url:ai1wm_reset.status.url,type:"GET",dataType:"json",cache:!1,dataFilter:function(t){return Ai1wm.Util.json(t)}}).done((function(r){if(r)switch(t.setStatus(r),r.type){case"done":case"error":return void e(window).unbind("beforeunload")}setTimeout(t.getStatus.bind(t),3e3)})).fail((function(){setTimeout(t.getStatus.bind(t),3e3)})))},s.prototype.setStatus=function(e){switch(e.type){case"info":t.A.$emit("change-reset-loader-text",e);break;case"done":t.A.$emit("change-reset-loader-done",e);break;case"error":t.A.$emit("change-reset-loader-error",e)}},s.prototype.stopReset=function(t){try{t&&this.statusXhr&&this.statusXhr.abort()}finally{this.isStopped=t}},s.prototype.isResetStopped=function(){return this.isStopped}})()})();